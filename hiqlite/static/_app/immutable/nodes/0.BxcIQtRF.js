import{a as l,t as y,v as ae,r as re,k as ie,b as C,w as le,f as F,e as ne}from"../chunks/disclose-version.BEQx4QIg.js";import{p as E,u as de,k as N,g as r,z as L,j as D,aa as B,q as p,m as g,o as w,t as q,aN as xe,aO as I,i as ve,aP as Se,aQ as Me,aR as qe}from"../chunks/runtime.BELmqrWi.js";import{a as z,i as O,p as S}from"../chunks/props.CdR0yINJ.js";import{B as ce,t as K,c as je,s as se,a as $,h as Le,I as Ce,b as Ae,r as Pe,d as ue,e as ze,A as he,f as oe,g as me,i as Te,j as pe,k as we,R as Ve,l as Be,m as Oe,Q as Qe,D as Ie}from"../chunks/Resizable.DwgFMMVC.js";import{o as fe}from"../chunks/index-client.DWjrwYB4.js";import"../chunks/legacy.COGZABUe.js";const Re=!0,De=Object.freeze(Object.defineProperty({__proto__:null,prerender:Re},Symbol.toStringTag,{value:"Module"}));var He=y(`<div class="icon moon svelte-b827j5"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75
                        0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75
                        21a9.753 9.753 0 009.002-5.998z"></path></svg></div>`),Fe=y(`<div class="icon sun svelte-b827j5"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12
                        18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75
                        3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"></path></svg></div>`),Ee=y("<!> <!>",1);function Ne(a,e){E(e,!0);const t="darkMode",[s,i]=je({});let o=B(void 0);de(()=>{var n,f,h;const d=((f=(n=window==null?void 0:window.matchMedia)==null?void 0:n.call(window,"(prefers-color-scheme:dark)"))==null?void 0:f.matches)??!1;if(r(o)===void 0){const m=(h=window==null?void 0:window.localStorage)==null?void 0:h.getItem(t);if(m){let _=m==="true";r(o)===d&&localStorage.removeItem(t),L(o,_)}else L(o,z(d))}else r(o)?(document.body.classList.remove("light-theme"),document.body.classList.add("dark-theme")):(document.body.classList.remove("dark-theme"),document.body.classList.add("light-theme"));d===r(o)?localStorage.removeItem(t):localStorage.setItem(t,r(o).toString())});function j(){L(o,!r(o))}ce(a,{ariaLabel:"Change color theme",invisible:!0,onclick:j,children:(d,n)=>{var f=Ee(),h=D(f);O(h,()=>r(o)===!0,_=>{var M=He();K(1,M,()=>i,()=>({key:"dark"})),K(2,M,()=>s,()=>({key:"light"})),l(_,M)});var m=p(h,2);O(m,()=>r(o)===!1,_=>{var M=Fe();K(1,M,()=>i,()=>({key:"light"})),K(2,M,()=>s,()=>({key:"dark"})),l(_,M)}),l(d,f)},$$slots:{default:!0}}),N()}var Ge=y('<div class="theme-switch svelte-jrz9as"><!></div>');function Ue(a){var e=Ge(),t=g(e);Ne(t,{}),w(e),l(a,e)}var We=y("<form><!></form>");function Xe(a,e){E(e,!0);let t=S(e,"method",3,"POST"),s=S(e,"isError",15);async function i(d){d.preventDefault();const n=d.currentTarget;if(n.reportValidity())s(!1);else{s(!0);return}const f=new FormData(n);let h=new URLSearchParams;if(f.forEach((_,M)=>{h.append(M,_.toString())}),e.onSubmit){e.onSubmit(n,h);return}const m=await fetch(n.action,{method:n.method,headers:{"Content-type":"application/x-www-form-urlencoded"},body:h});Le(m),e.onResponse&&(e.onResponse(m),m.ok&&n.reset())}var o=We(),j=g(o);se(j,()=>e.children),w(o),q(()=>{$(o,"action",e.action),$(o,"method",t())}),ae("submit",o,i),l(a,o),N()}var Ye=re(`<svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0
            002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08M15.75 18.75v-1.875a3.375
            3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5A3.375 3.375 0 006.375
            7.5H5.25m11.9-3.664A2.251 2.251 0 0015 2.25h-1.5a2.251 2.251 0 00-2.15 1.586m5.8
            0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125
            1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 00-9-9z"></path></svg>`);function Ze(a,e){let t=S(e,"opacity",8,.9),s=S(e,"width",8,"1.5rem");var i=Ye();$(i,"stroke-width",2),q(()=>{$(i,"width",s()),$(i,"opacity",t())}),l(a,i)}var Je=re(`<svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138
            2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0
            01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0
            0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"></path></svg>`);function Ke(a,e){let t=S(e,"color",8,"var(--col-err)"),s=S(e,"opacity",8,.9),i=S(e,"width",8,"1.5rem");var o=Je();$(o,"stroke-width",2),q(()=>{$(o,"width",i()),$(o,"color",t()),$(o,"opacity",s())}),l(a,o)}function be(a,e){navigator.clipboard?navigator.clipboard.writeText(e()):console.error("Copy to clipboard is only available in secure contexts")}function ge(a,e){e()==="password"?e("text"):e("password")}function et(a){}function tt(a){a.code}var at=y('<div role="button" tabindex="0" class="btn clip svelte-11t06s4"><!></div>'),rt=y('<div class="nolabel svelte-11t06s4"></div>'),it=y('<div class="error svelte-11t06s4"><!> </div>'),st=y('<div><div class="input-row svelte-11t06s4"><input> <div class="rel svelte-11t06s4"><!> <div role="button" tabindex="0" class="btn show svelte-11t06s4"><!></div></div></div></div> <div class="label svelte-11t06s4"><label class="font-label noselect svelte-11t06s4"> </label> <!></div>',1);function ot(a,e){let t=S(e,"type",7,"password"),s=S(e,"name",3,"password"),i=S(e,"value",7,""),o=S(e,"label",3,"Password"),j=S(e,"autocomplete",3,"current-password"),d=S(e,"placeholder",3,"Password"),n=S(e,"title",3,"Password"),f=S(e,"disabled",3,!1),h=S(e,"min",3,"14"),m=S(e,"max",3,"128"),_=S(e,"required",3,!0),M=S(e,"width",3,"inherit"),u=S(e,"showCopy",3,!1),A=B(!1);function v(P){var X;const V=(X=P==null?void 0:P.currentTarget)==null?void 0:X.reportValidity();L(A,!V)}function b(P){P.preventDefault(),L(A,!0)}var c=st(),x=D(c),T=g(x),k=g(T);Pe(k),k.__input=[et],k.__keydown=[tt];var H=p(k,2),R=g(H);O(R,u,P=>{var V=at();V.__click=[be,i],V.__keydown=[be,i];var X=g(V);Ze(X,{}),w(V),l(P,V)});var Q=p(R,2);Q.__click=[ge,t],Q.__keydown=[ge,t];var J=g(Q);O(J,()=>t()==="password",P=>{Ke(P,{width:22})},P=>{Ce(P,{width:22})}),w(Q),w(H),w(T),w(x);var ee=p(x,2),U=g(ee),Y=g(U,!0);w(U);var W=p(U,2);O(W,()=>r(A),P=>{var V=it(),X=g(V);O(X,()=>!o(),_e=>{var $e=rt();l(_e,$e)});var ye=p(X);w(V),q(()=>C(ye,` ${n()??""}`)),K(3,V,()=>ze),l(P,V)}),w(ee),q(()=>{ue(x,"width",M()),$(k,"type",t()),$(k,"id",e.id),$(k,"name",s()),$(k,"title",n()),$(k,"aria-label",n()),$(k,"autocomplete",j()),$(k,"placeholder",d()),k.disabled=f(),k.required=_()||void 0,$(k,"maxlength",e.maxLength||void 0),$(k,"min",h()||void 0),$(k,"max",m()||void 0),$(k,"pattern",e.pattern||void 0),ue(k,"padding-right",u()?"55px":"30px"),$(U,"for",e.id),$(U,"data-required",_()),C(Y,o())}),ae("invalid",k,b),ae("blur",k,v),Ae(k,i),l(a,c)}ie(["input","keydown","click"]);var lt=y('<meta property="description" content="Hiqlite Login">'),nt=y('<div class="err"> </div>'),dt=y("<!> <!> <!>",1),vt=y('<div class="container svelte-dc3gug"><div class="login svelte-dc3gug"><!></div></div>');function ct(a,e){E(e,!0);const t=`${he}/session`;let s=B(""),i=B(!1);async function o(f,h){L(s,""),L(i,!0),h.append("pow","NoPowUntilSvelte5ErrorFixed");const m=await fetch(t,{method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded"},body:h});let _=await m.json();m.status===200?oe.set(_):L(s,z(Object.values(_)[0])),L(i,!1)}var j=vt();le(f=>{var h=lt();xe.title="Login",l(f,h)});var d=g(j),n=g(d);Xe(n,{action:t,onSubmit:o,children:(f,h)=>{var m=dt(),_=D(m);ot(_,{id:"password",name:"password",autocomplete:"current-password",placeholder:"Password",title:"Valid Dashboard Password",required:!0});var M=p(_,2);ce(M,{type:"submit",level:1,get isLoading(){return r(i)},children:(A,v)=>{I();var b=F("Login");l(A,b)},$$slots:{default:!0}});var u=p(M,2);O(u,()=>r(s),A=>{var v=nt(),b=g(v,!0);w(v),q(()=>C(b,r(s))),l(A,v)}),l(f,m)},$$slots:{default:!0}}),w(d),w(j),l(a,j),N()}var Z=(a=>(a.Table="table",a.Index="index",a.Trigger="view",a.View="trigger",a))(Z||{}),ut=y(" <br>",1),ht=y('<section class="svelte-zgiuz8"><h5 class="header"> <br> </h5> <div class="sql font-mono svelte-zgiuz8"></div></section>');function mt(a,e){E(e,!0);let t=ve(()=>{var n;return(n=e.table.sql)==null?void 0:n.split(`
`)});var s=ht(),i=g(s),o=g(i,!0),j=p(o,2);w(i);var d=p(i,2);me(d,21,()=>r(t),Te,(n,f)=>{I();var h=ut(),m=D(h,!0);I(),q(()=>C(m,r(f))),l(n,h)}),w(d),w(s),q(()=>{C(o,e.table.name),C(j,` ${e.table.typ??""}: ${e.table.tbl_name??""}`)}),l(a,s),N()}function ke(a,e,t){e(t.view)}var pt=y('<div role="button" tabindex="0"> </div>');function te(a,e){let t=S(e,"viewSelected",15);var s=pt();s.__click=[ke,t,e],s.__keydown=[ke,t,e];var i=g(s,!0);w(s),q(()=>{pe(s,`${(t()===e.view?"selected":"")??""} svelte-13ofdkm`),C(i,e.view)}),l(a,s)}ie(["click","keydown"]);var wt=re('<svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"></path></svg>');function ft(a,e){let t=S(e,"opacity",8,.9),s=S(e,"width",8,"1.5rem");var i=wt();$(i,"stroke-width",2),q(()=>{$(i,"width",s()),$(i,"opacity",t())}),l(a,i)}var bt=y('<div class="err"> </div>'),gt=(a,e,t)=>e(r(t).name),kt=(a,e,t)=>e(r(t).name),yt=(a,e,t)=>e(r(t).name),_t=(a,e,t)=>e(r(t).name),$t=y('<div role="button" tabindex="0" class="btn svelte-rfqjh4"><!></div>'),xt=y('<div role="button" tabindex="0"><div> </div> <!></div>'),St=y('<!> <div class="selector svelte-rfqjh4"><!> <!> <!> <!></div> <!> <!>',1);function Mt(a,e){E(e,!0);let t=B(z([])),s=B(void 0),i=B(z(Z.Table)),o=B(void 0);de(()=>{j(r(i))});async function j(c){let x=await we(`/tables/${c}`);x.status===200?L(t,z(await x.json())):L(o,z(await x.json()))}function d(c){L(s,z(r(t).filter(x=>x.name===c)[0]))}function n(c){let x={id:`${c}_${Be(4)}`,query:`${Oe}
PRAGMA table_info(${c})`};Qe.push(x),d(c)}var f=St(),h=D(f);O(h,()=>r(o),c=>{var x=bt(),T=g(x,!0);w(x),q(()=>C(T,r(o))),l(c,x)});var m=p(h,2),_=g(m);te(_,{get view(){return Z.Table},get viewSelected(){return r(i)},set viewSelected(c){L(i,z(c))}});var M=p(_,2);te(M,{get view(){return Z.Index},get viewSelected(){return r(i)},set viewSelected(c){L(i,z(c))}});var u=p(M,2);te(u,{get view(){return Z.Trigger},get viewSelected(){return r(i)},set viewSelected(c){L(i,z(c))}});var A=p(u,2);te(A,{get view(){return Z.View},get viewSelected(){return r(i)},set viewSelected(c){L(i,z(c))}}),w(m);var v=p(m,2);Ve(v,{resizeBottom:!0,initialHeightPx:window?window.innerHeight-400:600,minHeightPx:120,children:(c,x)=>{var T=ne(),k=D(T);me(k,17,()=>r(t),H=>H.name,(H,R)=>{var Q=xt();Q.__click=[gt,d,R],Q.__keydown=[kt,d,R];var J=g(Q),ee=g(J,!0);w(J);var U=p(J,2);O(U,()=>r(R).typ==="table",Y=>{var W=$t();W.__click=[yt,n,R],W.__keydown=[_t,n,R];var P=g(W);ft(P,{}),w(W),l(Y,W)}),w(Q),q(()=>{var Y;pe(Q,`${(((Y=r(s))==null?void 0:Y.name)===r(R).name?"entry selected":"entry")??""} svelte-rfqjh4`),C(ee,r(R).name)}),l(H,Q)}),l(c,T)},$$slots:{default:!0}});var b=p(v,2);O(b,()=>r(s),c=>{mt(c,{get table(){return r(s)}})}),l(a,f),N()}ie(["click","keydown"]);var qt=y('<div class="metric svelte-1ktnipf"><div class="label font-label svelte-1ktnipf"> </div> <div class="font-mono"><!></div></div>');function G(a,e){E(e,!0);var t=qt(),s=g(t),i=g(s,!0);w(s);var o=p(s,2),j=g(o);se(j,()=>e.children),w(o),w(t),q(()=>C(i,e.label)),l(a,t),N()}var jt=y('<b>Metrics</b> <div class="space svelte-12lemcq"></div> <!> <!> <!> <!> <!> <!> <!> <!>',1);function Lt(a,e){E(e,!0);let t=B(void 0),s=ve(()=>{var u;return(u=r(t))==null?void 0:u.membership_config.membership.configs.join(", ")});setInterval(()=>{i()},1e4),fe(()=>{i()});async function i(){let u=await we("/metrics");u.status===200?L(t,z(await u.json())):console.error(await u.json())}var o=jt(),j=p(D(o),4);G(j,{label:"This Node",children:(u,A)=>{I();var v=F();q(()=>{var b,c;return C(v,`${((b=r(t))==null?void 0:b.id)??""}
    ${((c=r(t))==null?void 0:c.state)??""}`)}),l(u,v)},$$slots:{default:!0}});var d=p(j,2);G(d,{label:"Current Leader",children:(u,A)=>{I();var v=F();q(()=>{var b;return C(v,(b=r(t))==null?void 0:b.current_leader)}),l(u,v)},$$slots:{default:!0}});var n=p(d,2);G(n,{label:"Vote Leader",children:(u,A)=>{I();var v=F();q(()=>{var b;return C(v,(b=r(t))==null?void 0:b.vote.leader_id.node_id)}),l(u,v)},$$slots:{default:!0}});var f=p(n,2);G(f,{label:"Last Log Index",children:(u,A)=>{I();var v=F();q(()=>{var b;return C(v,(b=r(t))==null?void 0:b.last_log_index)}),l(u,v)},$$slots:{default:!0}});var h=p(f,2);G(h,{label:"Last Applied Log",children:(u,A)=>{I();var v=F();q(()=>{var b,c,x,T,k,H;return C(v,`${((c=(b=r(t))==null?void 0:b.last_applied)==null?void 0:c.leader_id.node_id)??""}
    -
    ${((T=(x=r(t))==null?void 0:x.last_applied)==null?void 0:T.leader_id.term)??""}
    -
    ${((H=(k=r(t))==null?void 0:k.last_applied)==null?void 0:H.index)??""}`)}),l(u,v)},$$slots:{default:!0}});var m=p(h,2);G(m,{label:"Last Snapshot",children:(u,A)=>{I();var v=F();q(()=>{var b,c,x,T;return C(v,`${((c=(b=r(t))==null?void 0:b.snapshot)==null?void 0:c.leader_id)??""}
    -
    ${((T=(x=r(t))==null?void 0:x.snapshot)==null?void 0:T.index)??""}`)}),l(u,v)},$$slots:{default:!0}});var _=p(m,2);G(_,{label:"Members",children:(u,A)=>{I();var v=F();q(()=>C(v,r(s))),l(u,v)},$$slots:{default:!0}});var M=p(_,2);G(M,{label:"Millis Quorum Ack",children:(u,A)=>{I();var v=F();q(()=>{var b;return C(v,(b=r(t))==null?void 0:b.millis_since_quorum_ack)}),l(u,v)},$$slots:{default:!0}}),l(a,o),N()}var Ct=y('<aside class="svelte-154rhoy"><!></aside>');function At(a){var e=Ct(),t=g(e);Lt(t,{}),w(e),l(a,e)}const Pt=(a,e,t)=>{if(Se(a))return Me(a);const s=e(t);return qe(a,s),s},zt=(a,e)=>Pt(a,Tt,e),Tt=a=>{let e=B(z(a));return{get value(){return r(e)},set value(t){L(e,z(t))}}};var Vt=y('<meta name="robots" content="noindex nofollow">'),Bt=y('<nav class="svelte-vv6eq"><!></nav> <main class="svelte-vv6eq"><div class="inner svelte-vv6eq"><!></div></main> <!>',1),Ot=y("<!> <!>",1);function Qt(a,e){E(e,!0);let t=B(void 0),s=B(!1);zt("queries",[Ie]),oe.subscribe(d=>{L(t,z(d))}),fe(async()=>{let d=await fetch(`${he}/session`);d.status===200&&oe.set(await d.json()),L(s,!0)});var i=Ot();le(d=>{var n=Vt();l(d,n)});var o=D(i);O(o,()=>r(t),d=>{var n=Bt(),f=D(n),h=g(f);Mt(h,{}),w(f);var m=p(f,2),_=g(m),M=g(_);se(M,()=>e.children),w(_),w(m);var u=p(m,2);At(u),l(d,n)},d=>{var n=ne(),f=D(n);O(f,()=>r(s),h=>{ct(h,{})},null,!0),l(d,n)});var j=p(o,2);Ue(j),l(a,i),N()}export{Qt as component,De as universal};
