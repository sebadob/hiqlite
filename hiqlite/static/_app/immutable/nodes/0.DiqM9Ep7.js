import{a as n,t as _,k as oe,j as se,e as ae,s as H,l as de,b as N,c as ve}from"../chunks/disclose-version.C6pqRmpU.js";import{p as U,u as ne,i as G,h as R,g as i,v as y,m as g,a6 as A,j as p,k as h,t as q,aF as Me,aG as F,f as ce,a as ue,aH as Le,aI as je,aJ as Se}from"../chunks/runtime.Bgs6cuJF.js";import{i as B,a as P,p as L,b as Ce}from"../chunks/props.BmvK5ApK.js";import{B as we,t as ee,c as Pe,s as ie,a as j,h as qe,I as ze,b as He,r as Ae,d as K,e as Ee,A as me,f as le,g as he,i as Be,j as pe,k as fe,l as Te,m as Ve,Q as Ie,D as Fe}from"../chunks/genKey.Bf97aw3D.js";import{o as be}from"../chunks/index-client.DvcEluY5.js";const Oe=!0,Re=Object.freeze(Object.defineProperty({__proto__:null,prerender:Oe},Symbol.toStringTag,{value:"Module"}));var Ne=_(`<div class="icon moon svelte-b827j5"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75
                        0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75
                        21a9.753 9.753 0 009.002-5.998z"></path></svg></div>`),Ue=_(`<div class="icon sun svelte-b827j5"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12
                        18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75
                        3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"></path></svg></div>`),Ge=_("<!> <!>",1);function Je(a,e){U(e,!0);const t="darkMode",[r,o]=Pe({});let s=A(void 0);ne(()=>{var l,m,f;const v=((m=(l=window==null?void 0:window.matchMedia)==null?void 0:l.call(window,"(prefers-color-scheme:dark)"))==null?void 0:m.matches)??!1;if(i(s)===void 0){const b=(f=window==null?void 0:window.localStorage)==null?void 0:f.getItem(t);if(b){let $=b==="true";i(s)===v&&localStorage.removeItem(t),y(s,$)}else y(s,P(v))}else i(s)?(document.body.classList.remove("light-theme"),document.body.classList.add("dark-theme")):(document.body.classList.remove("dark-theme"),document.body.classList.add("light-theme"));v===i(s)?localStorage.removeItem(t):localStorage.setItem(t,i(s).toString())});function C(){y(s,!i(s))}we(a,{ariaLabel:"Change color theme",invisible:!0,onclick:C,children:(v,l)=>{var m=Ge(),f=R(m);B(f,()=>i(s)===!0,$=>{var S=Ne();ee(1,S,()=>o,()=>({key:"dark"})),ee(2,S,()=>r,()=>({key:"light"})),n($,S)});var b=g(f,2);B(b,()=>i(s)===!1,$=>{var S=Ue();ee(1,S,()=>o,()=>({key:"light"})),ee(2,S,()=>r,()=>({key:"dark"})),n($,S)}),n(v,m)},$$slots:{default:!0}}),G()}var Qe=_('<div class="theme-switch svelte-jrz9as"><!></div>');function We(a){var e=Qe(),t=p(e);Je(t,{}),h(e),n(a,e)}var Xe=_("<form><!></form>");function Ye(a,e){U(e,!0);let t=L(e,"method",3,"POST"),r=L(e,"isError",15);async function o(v){v.preventDefault();const l=v.currentTarget;if(l.reportValidity())r(!1);else{r(!0);return}const m=new FormData(l);let f=new URLSearchParams;if(m.forEach(($,S)=>{f.append(S,$.toString())}),e.onSubmit){e.onSubmit(l,f);return}const b=await fetch(l.action,{method:l.method,headers:{"Content-type":"application/x-www-form-urlencoded"},body:f});qe(b),e.onResponse&&(e.onResponse(b),b.ok&&l.reset())}var s=Xe(),C=p(s);ie(C,()=>e.children),h(s),q(()=>{j(s,"action",e.action),j(s,"method",t())}),oe("submit",s,o),n(a,s),G()}var Ke=se(`<svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0
            002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08M15.75 18.75v-1.875a3.375
            3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5A3.375 3.375 0 006.375
            7.5H5.25m11.9-3.664A2.251 2.251 0 0015 2.25h-1.5a2.251 2.251 0 00-2.15 1.586m5.8
            0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125
            1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 00-9-9z"></path></svg>`);function De(a,e){let t=L(e,"opacity",8,.9),r=L(e,"width",8,20);var o=Ke();j(o,"stroke-width",2),q(()=>{j(o,"width",r()),j(o,"opacity",t())}),n(a,o)}var Ze=se(`<svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138
            2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0
            01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0
            0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"></path></svg>`);function et(a,e){let t=L(e,"color",8,"var(--col-err)"),r=L(e,"opacity",8,.9),o=L(e,"width",8,24);var s=Ze();j(s,"stroke-width",2),q(()=>{j(s,"width",o()),j(s,"color",t()),j(s,"opacity",r())}),n(a,s)}function ge(a,e){navigator.clipboard?navigator.clipboard.writeText(e()):console.error("Copy to clipboard is only available in secure contexts")}function ke(a,e){e()==="password"?e("text"):e("password")}function tt(a){}function at(a){a.code}var it=_('<div role="button" tabindex="0" class="btn clip svelte-11t06s4"><!></div>'),rt=_('<div class="nolabel svelte-11t06s4"></div>'),ot=_('<div class="error svelte-11t06s4"><!> </div>'),st=_('<div><div class="input-row svelte-11t06s4"><input> <div class="rel svelte-11t06s4"><!> <div role="button" tabindex="0" class="btn show svelte-11t06s4"><!></div></div></div></div> <div class="label svelte-11t06s4"><label class="font-label noselect svelte-11t06s4"> </label> <!></div>',1);function nt(a,e){let t=L(e,"type",7,"password"),r=L(e,"name",3,"password"),o=L(e,"value",7,""),s=L(e,"label",3,"Password"),C=L(e,"autocomplete",3,"current-password"),v=L(e,"placeholder",3,"Password"),l=L(e,"title",3,"Password"),m=L(e,"disabled",3,!1),f=L(e,"min",3,"14"),b=L(e,"max",3,"128"),$=L(e,"required",3,!0),S=L(e,"width",3,"inherit"),d=L(e,"showCopy",3,!1),z=A(!1);function u(E){var X;const V=(X=E==null?void 0:E.currentTarget)==null?void 0:X.reportValidity();y(z,!V)}function k(E){E.preventDefault(),y(z,!0)}var w=st(),M=R(w),x=p(M),c=p(x);Ae(c),c.__input=[tt],c.__keydown=[at];var T=g(c,2),O=p(T);B(O,d,E=>{var V=it();V.__click=[ge,o],V.__keydown=[ge,o];var X=p(V);De(X,{}),h(V),n(E,V)});var I=g(O,2);I.__click=[ke,t],I.__keydown=[ke,t];var Z=p(I);B(Z,()=>t()==="password",E=>{et(E,{width:22})},E=>{ze(E,{width:22})}),h(I),h(T),h(x),h(M);var te=g(M,2),Q=p(te),Y=p(Q);h(Q);var W=g(Q,2);B(W,()=>i(z),E=>{var V=ot(),X=p(V);B(X,()=>!s(),ye=>{var $e=rt();n(ye,$e)});var xe=g(X);h(V),q(()=>H(xe,` ${l()??""}`)),ee(3,V,()=>Ee),n(E,V)}),h(te),q(()=>{K(M,"width",S()),j(c,"type",t()),j(c,"id",e.id),j(c,"name",r()),j(c,"title",l()),j(c,"aria-label",l()),j(c,"autocomplete",C()),j(c,"placeholder",v()),c.disabled=m(),c.required=$()||void 0,j(c,"maxlength",e.maxLength||void 0),j(c,"min",f()||void 0),j(c,"max",b()||void 0),j(c,"pattern",e.pattern||void 0),K(c,"padding-right",d()?"55px":"30px"),j(Q,"for",e.id),j(Q,"data-required",$()),H(Y,s())}),oe("invalid",c,k),oe("blur",c,u),He(c,o),n(a,w)}ae(["input","keydown","click"]);var lt=_('<meta property="description" content="Hiqlite Login">'),dt=_('<div class="err"> </div>'),vt=_("<!> <!> <!>",1),ct=_('<div class="container svelte-dc3gug"><div class="login svelte-dc3gug"><!></div></div>');function ut(a,e){U(e,!0);const t=`${me}/session`;let r=A(""),o=A(!1);async function s(m,f){y(r,""),y(o,!0),f.append("pow","NoPowUntilSvelte5ErrorFixed");const b=await fetch(t,{method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded"},body:f});let $=await b.json();b.status===200?le.set($):y(r,P(Object.values($)[0])),y(o,!1)}var C=ct();de(m=>{var f=lt();Me.title="Login",n(m,f)});var v=p(C),l=p(v);Ye(l,{action:t,onSubmit:s,children:(m,f)=>{var b=vt(),$=R(b);nt($,{id:"password",name:"password",autocomplete:"current-password",placeholder:"Password",title:"Valid Dashboard Password",required:!0});var S=g($,2);we(S,{type:"submit",level:1,get isLoading(){return i(o)},children:(z,u)=>{F();var k=N("Login");n(z,k)},$$slots:{default:!0}});var d=g(S,2);B(d,()=>i(r),z=>{var u=dt(),k=p(u);h(u),q(()=>H(k,i(r))),n(z,u)}),n(m,b)},$$slots:{default:!0}}),h(v),h(C),n(a,C),G()}var D=(a=>(a.Table="table",a.Index="index",a.Trigger="view",a.View="trigger",a))(D||{}),wt=_(" <br>",1),mt=_('<section class="svelte-zgiuz8"><h5 class="header"> <br> </h5> <div class="sql font-mono svelte-zgiuz8"></div></section>');function ht(a,e){U(e,!0);let t=ce(()=>{var l;return(l=e.table.sql)==null?void 0:l.split(`
`)});var r=mt(),o=p(r),s=p(o),C=g(s,2);h(o);var v=g(o,2);he(v,21,()=>i(t),Be,(l,m)=>{F();var f=wt(),b=R(f,!0);F(),q(()=>H(b,i(m))),n(l,f)}),h(v),h(r),q(()=>{H(s,e.table.name),H(C,` ${e.table.typ??""}: ${e.table.tbl_name??""}`)}),n(a,r),G()}function _e(a,e,t){e(t.view)}var pt=_('<div role="button" tabindex="0"> </div>');function re(a,e){let t=L(e,"viewSelected",15);var r=pt();r.__click=[_e,t,e],r.__keydown=[_e,t,e];var o=p(r);h(r),q(()=>{pe(r,`${(t()===e.view?"selected":"")??""} svelte-13ofdkm`),H(o,e.view)}),n(a,r)}ae(["click","keydown"]);var ft=se('<svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"></path></svg>');function bt(a,e){let t=L(e,"opacity",8,.9),r=L(e,"width",8,24);var o=ft();j(o,"stroke-width",2),q(()=>{j(o,"width",r()),j(o,"opacity",t())}),n(a,o)}function gt(a,e,t,r){e(),window.addEventListener("mousemove",t),window.addEventListener("mouseup",r,{once:!0})}function kt(a,e,t,r){e(),window.addEventListener("mousemove",t),window.addEventListener("mouseup",r,{once:!0})}var _t=_('<div class="relative"><div role="none" class="right svelte-1u5iq19"></div></div>'),xt=_('<div class="relative"><div role="none" class="bottom svelte-1u5iq19"></div></div>'),yt=_('<div><div class="children svelte-1u5iq19"><div class="inner svelte-1u5iq19"><!></div> <!></div> <!></div>');function $t(a,e){U(e,!0);let t=L(e,"minWidthPx",3,50),r=L(e,"minHeightPx",3,50),o,s=A(void 0),C=A(void 0),v=A(P(ue(()=>e.initialWidthPx))),l=A(P(ue(()=>e.initialHeightPx)));ne(()=>{m()});function m(){if(o){let x=o.getBoundingClientRect();e.resizeRight&&(y(C,P(x.left)),y(v,P(x.width))),e.resizeBottom&&(y(s,P(x.top)),y(l,P(x.height)))}}function f(){window.removeEventListener("mousemove",b),m()}function b(x){let c=window.scrollX+x.x-(i(C)||0);c<t()?y(v,P(t())):y(v,c)}function $(){window.removeEventListener("mousemove",S),m()}function S(x){let c=window.screenY+x.y-(i(s)||0);c<r()?y(l,P(r())):y(l,c)}var d=yt();Ce(d,x=>o=x,()=>o);var z=p(d),u=p(z),k=p(u);ie(k,()=>e.children),h(u);var w=g(u,2);B(w,()=>e.resizeRight,x=>{var c=_t(),T=p(c);T.__mousedown=[gt,m,b,f],h(c),n(x,c)}),h(z);var M=g(z,2);B(M,()=>e.resizeBottom,x=>{var c=xt(),T=p(c);T.__mousedown=[kt,m,S,$],h(c),n(x,c)}),h(d),q(()=>{K(d,"width",i(v)&&`${i(v)}px`),K(d,"height",i(l)&&`${i(l)}px`),K(d,"border",e.border),K(d,"padding",e.padding)}),n(a,d),G()}ae(["mousedown"]);var Mt=_('<div class="err"> </div>'),Lt=(a,e,t)=>e(i(t).name),jt=(a,e,t)=>e(i(t).name),St=(a,e,t)=>e(i(t).name),Ct=(a,e,t)=>e(i(t).name),Pt=_('<div role="button" tabindex="0" class="btn svelte-rfqjh4"><!></div>'),qt=_('<div role="button" tabindex="0"><div> </div> <!></div>'),zt=_('<!> <div class="selector svelte-rfqjh4"><!> <!> <!> <!></div> <!> <!>',1);function Ht(a,e){U(e,!0);let t=A(P([])),r=A(void 0),o=A(P(D.Table)),s=A(void 0);ne(()=>{C(i(o))});async function C(w){let M=await fe(`/tables/${w}`);M.status===200?y(t,P(await M.json())):y(s,P(await M.json()))}function v(w){y(r,P(i(t).filter(M=>M.name===w)[0]))}function l(w){let M={id:`${w}_${Te(4)}`,query:`${Ve}
PRAGMA table_info(${w})`};Ie.push(M),v(w)}var m=zt(),f=R(m);B(f,()=>i(s),w=>{var M=Mt(),x=p(M);h(M),q(()=>H(x,i(s))),n(w,M)});var b=g(f,2),$=p(b);re($,{get view(){return D.Table},get viewSelected(){return i(o)},set viewSelected(w){y(o,P(w))}});var S=g($,2);re(S,{get view(){return D.Index},get viewSelected(){return i(o)},set viewSelected(w){y(o,P(w))}});var d=g(S,2);re(d,{get view(){return D.Trigger},get viewSelected(){return i(o)},set viewSelected(w){y(o,P(w))}});var z=g(d,2);re(z,{get view(){return D.View},get viewSelected(){return i(o)},set viewSelected(w){y(o,P(w))}}),h(b);var u=g(b,2);$t(u,{resizeBottom:!0,initialHeightPx:window?window.innerHeight-400:600,minHeightPx:120,children:(w,M)=>{var x=ve(),c=R(x);he(c,17,()=>i(t),T=>T.name,(T,O)=>{var I=qt();I.__click=[Lt,v,O],I.__keydown=[jt,v,O];var Z=p(I),te=p(Z);h(Z);var Q=g(Z,2);B(Q,()=>i(O).typ==="table",Y=>{var W=Pt();W.__click=[St,l,O],W.__keydown=[Ct,l,O];var E=p(W);bt(E,{}),h(W),n(Y,W)}),h(I),q(()=>{var Y;pe(I,`${(((Y=i(r))==null?void 0:Y.name)===i(O).name?"entry selected":"entry")??""} svelte-rfqjh4`),H(te,i(O).name)}),n(T,I)}),n(w,x)},$$slots:{default:!0}});var k=g(u,2);B(k,()=>i(r),w=>{ht(w,{get table(){return i(r)}})}),n(a,m),G()}ae(["click","keydown"]);var At=_('<div class="metric svelte-1ktnipf"><div class="label font-label svelte-1ktnipf"> </div> <div class="font-mono"><!></div></div>');function J(a,e){U(e,!0);var t=At(),r=p(t),o=p(r);h(r);var s=g(r,2),C=p(s);ie(C,()=>e.children),h(s),h(t),q(()=>H(o,e.label)),n(a,t),G()}var Et=_('<b>Metrics</b> <div class="space svelte-12lemcq"></div> <!> <!> <!> <!> <!> <!> <!> <!>',1);function Bt(a,e){U(e,!0);let t=A(void 0),r=ce(()=>{var d;return(d=i(t))==null?void 0:d.membership_config.membership.configs.join(", ")});setInterval(()=>{o()},1e4),be(()=>{o()});async function o(){let d=await fe("/metrics");d.status===200?y(t,P(await d.json())):console.error(await d.json())}var s=Et(),C=g(R(s),4);J(C,{label:"This Node",children:(d,z)=>{F();var u=N();q(()=>{var k,w;return H(u,`${((k=i(t))==null?void 0:k.id)??""}
    ${((w=i(t))==null?void 0:w.state)??""}`)}),n(d,u)},$$slots:{default:!0}});var v=g(C,2);J(v,{label:"Current Leader",children:(d,z)=>{F();var u=N();q(()=>{var k;return H(u,(k=i(t))==null?void 0:k.current_leader)}),n(d,u)},$$slots:{default:!0}});var l=g(v,2);J(l,{label:"Vote Leader",children:(d,z)=>{F();var u=N();q(()=>{var k;return H(u,(k=i(t))==null?void 0:k.vote.leader_id.node_id)}),n(d,u)},$$slots:{default:!0}});var m=g(l,2);J(m,{label:"Last Log Index",children:(d,z)=>{F();var u=N();q(()=>{var k;return H(u,(k=i(t))==null?void 0:k.last_log_index)}),n(d,u)},$$slots:{default:!0}});var f=g(m,2);J(f,{label:"Last Applied Log",children:(d,z)=>{F();var u=N();q(()=>{var k,w,M,x,c,T;return H(u,`${((w=(k=i(t))==null?void 0:k.last_applied)==null?void 0:w.leader_id.node_id)??""}
    -
    ${((x=(M=i(t))==null?void 0:M.last_applied)==null?void 0:x.leader_id.term)??""}
    -
    ${((T=(c=i(t))==null?void 0:c.last_applied)==null?void 0:T.index)??""}`)}),n(d,u)},$$slots:{default:!0}});var b=g(f,2);J(b,{label:"Last Snapshot",children:(d,z)=>{F();var u=N();q(()=>{var k,w,M,x;return H(u,`${((w=(k=i(t))==null?void 0:k.snapshot)==null?void 0:w.leader_id)??""}
    -
    ${((x=(M=i(t))==null?void 0:M.snapshot)==null?void 0:x.index)??""}`)}),n(d,u)},$$slots:{default:!0}});var $=g(b,2);J($,{label:"Members",children:(d,z)=>{F();var u=N();q(()=>H(u,i(r))),n(d,u)},$$slots:{default:!0}});var S=g($,2);J(S,{label:"Millis Quorum Ack",children:(d,z)=>{F();var u=N();q(()=>{var k;return H(u,(k=i(t))==null?void 0:k.millis_since_quorum_ack)}),n(d,u)},$$slots:{default:!0}}),n(a,s),G()}var Tt=_('<aside class="svelte-154rhoy"><!></aside>');function Vt(a){var e=Tt(),t=p(e);Bt(t,{}),h(e),n(a,e)}const It=(a,e,t)=>{if(Le(a))return je(a);const r=e(t);return Se(a,r),r},Ft=(a,e)=>It(a,Ot,e),Ot=a=>{let e=A(P(a));return{get value(){return i(e)},set value(t){y(e,P(t))}}};var Rt=_('<meta name="robots" content="noindex nofollow">'),Nt=_('<nav class="svelte-vv6eq"><!></nav> <main class="svelte-vv6eq"><div class="inner svelte-vv6eq"><!></div></main> <!>',1),Ut=_("<!> <!>",1);function Gt(a,e){U(e,!0);let t=A(void 0),r=A(!1);Ft("queries",[Fe]),le.subscribe(v=>{y(t,P(v))}),be(async()=>{let v=await fetch(`${me}/session`);v.status===200&&le.set(await v.json()),y(r,!0)});var o=Ut();de(v=>{var l=Rt();n(v,l)});var s=R(o);B(s,()=>i(t),v=>{var l=Nt(),m=R(l),f=p(m);Ht(f,{}),h(m);var b=g(m,2),$=p(b),S=p($);ie(S,()=>e.children),h($),h(b);var d=g(b,2);Vt(d),n(v,l)},v=>{var l=ve(),m=R(l);B(m,()=>i(r),f=>{ut(f,{})},null,!0),n(v,l)});var C=g(s,2);We(C),n(a,o),G()}export{Gt as component,Re as universal};
