import{q as Lt,x as St,y as Ct,s as Tt,a as n,t as b,c as _t,e as te,v as rt,r as he,k as Me,b as ne,f as Xe,w as Bt}from"../chunks/disclose-version.BkQuOugj.js";import"../chunks/legacy.AuFFchOy.js";import{R as ct,T as Dt,p as pe,m as v,o as i,t as C,g as t,k as fe,i as re,u as se,j as F,ab as E,q,z as w,b as Ue,n as Ye,aP as Je,aO as jt}from"../chunks/runtime.Zcp02Le-.js";import{s as xe,a as d,n as $e,l as Ee,B as ge,r as vt,g as be,i as Le,d as me,b as Ot,o as zt,I as Mt,R as At,m as dt,p as It,j as qt,Q as le,q as Rt,D as Ut}from"../chunks/Resizable.BoQ8IQFb.js";import{c as Et,p,i as P,b as Ae,a as x}from"../chunks/props.CzCUhsmr.js";import{p as Wt}from"../chunks/stores.WsFAVpRw.js";function ut(o,e,r){if(o.multiple)return Qt(o,e);for(var s of o.options){var a=We(s);if(Et(a,e)){s.selected=!0;return}}(!r||e!==void 0)&&(o.selectedIndex=-1)}function Pt(o,e){ct(()=>{var r=new MutationObserver(()=>{var s=o.__value;ut(o,s)});return r.observe(o,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function Ht(o,e,r=e){var s=!0;Lt(o,"change",()=>{var a;if(o.multiple)a=[].map.call(o.querySelectorAll(":checked"),We);else{var l=o.querySelector(":checked");a=l&&We(l)}r(a)}),ct(()=>{var a=e();if(ut(o,a,s),s&&a===void 0){var l=o.querySelector(":checked");l!==null&&(a=We(l),r(a))}o.__value=a,s=!1}),Pt(o)}function Qt(o,e){for(var r of o.options)r.selected=~e.indexOf(We(r))}function We(o){return"__value"in o?o.__value:o.value}function Vt(o,e,r,s=r){e.addEventListener("input",()=>{s(e[o])}),Dt(()=>{var a=r();if(e[o]!==a)if(a==null){var l=e[o];s(l)}else e[o]=a+""})}function Xt(o,e){St(window,["resize"],()=>Ct(()=>e(window[o])))}var Yt=b('<span class="font-label"><a class="svelte-a0xtvp"><!></a></span>');function ht(o,e){pe(e,!0);const r=Tt(),s=()=>_t(Wt,"$page",r);let a=p(e,"selectedStep",3,!1),l=p(e,"hideUnderline",3,!1),y=re(()=>{if(a())return"step";if(s().route.id===e.href.split("?")[0])return"page"});var f=Yt(),B=v(f),c=v(B);xe(c,()=>e.children),i(B),i(f),C(()=>{d(B,"href",e.href),d(B,"target",e.target),d(B,"aria-current",t(y)),$e(B,"hideUnderline",l())}),n(o,f),fe()}var Jt=b('<!> <div class="popover svelte-1au8ouo" popover="auto"><div class="inner fade-in svelte-1au8ouo"><!></div></div>',1);function Fe(o,e){pe(e,!0);let r=p(e,"ref",15),s=p(e,"roleButton",3,"button"),a=p(e,"offsetLeft",3,"0px"),l=p(e,"offsetTop",3,"0px"),y=p(e,"close",15);const f=Ee(8),B=Ee(8);let c=E(void 0),A=E(!1);se(()=>{y(g)});function k(){if(r()&&t(c))if(e.absolute)t(c).style.top=l(),t(c).style.left=a();else{let M=r().getBoundingClientRect();t(c).style.top=`calc(${M.bottom+window.scrollY}px + ${l()})`,t(c).style.left=`calc(${M.left+window.scrollX}px + ${a()})`}else console.error("button and popover ref missing")}function g(){var M;(M=t(c))==null||M.hidePopover()}function z(M){var R;let T=M.newState;w(A,T==="open"),(R=e.onToggle)==null||R.call(e,T)}var D=Jt(),j=F(D);ge(j,{get ref(){return r()},set ref(M){r(M)},get role(){return s()},id:f,ariaControls:B,popovertarget:B,onclick:k,get invisible(){return e.btnInvisible},get isDisabled(){return e.btnDisabled},get onLeft(){return e.onLeft},get onRight(){return e.onRight},get onUp(){return e.onUp},get onDown(){return e.onDown},children:(M,T)=>{var R=te(),O=F(R);xe(O,()=>e.button),n(M,R)},$$slots:{default:!0}});var W=q(j,2);d(W,"id",B),d(W,"aria-labelledby",f);var H=v(W),N=v(H);P(N,()=>e.lazy,M=>{var T=te(),R=F(T);P(R,()=>t(A),O=>{var $=te(),S=F($);xe(S,()=>e.children),n(O,$)}),n(M,T)},M=>{var T=te(),R=F(T);xe(R,()=>e.children),n(M,T)}),i(H),i(W),Ae(W,M=>w(c,M),()=>t(c)),C(()=>d(W,"aria-label",e.ariaLabel)),rt("toggle",W,z),n(o,D),fe()}var Ft=he('<svg fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9.75L14.25 12m0 0l2.25 2.25M14.25 12l2.25-2.25M14.25 12L12 14.25m-2.58 4.92l-6.375-6.375a1.125 1.125 0 010-1.59L9.42 4.83c.211-.211.498-.33.796-.33H19.5a2.25 2.25 0 012.25 2.25v10.5a2.25 2.25 0 01-2.25 2.25h-9.284c-.298 0-.585-.119-.796-.33z"></path></svg>');function Gt(o,e){let r=p(e,"color",8,"currentColor"),s=p(e,"opacity",8,.9),a=p(e,"width",8,"1.5rem");var l=Ft();d(l,"stroke-width",2),C(()=>{d(l,"stroke",r()),d(l,"width",a()),d(l,"opacity",s())}),n(o,l)}var Zt=he('<svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path></svg>');function Kt(o,e){let r=p(e,"opacity",8,.9),s=p(e,"width",8,"1.5rem");var a=Zt();d(a,"stroke-width",2),C(()=>{d(a,"width",s()),d(a,"opacity",r())}),n(o,a)}function Nt(o,e,r,s){var a,l,y;switch(o.code){case"Enter":e();break;case"Tab":(a=r.onTab)==null||a.call(r,s());break;case"ArrowUp":(l=r.onUp)==null||l.call(r,s());break;case"ArrowDown":(y=r.onDown)==null||y.call(r,s());break}}var er=b('<div class="options svelte-13lxusw"><!></div>'),tr=b("<option></option>"),rr=b('<datalist class="absolute svelte-13lxusw"></datalist>'),lr=b('<div class="magnify svelte-13lxusw"><!></div>'),or=b('<div class="btnSearch svelte-13lxusw"><!></div>'),ar=b('<search class="flex container svelte-13lxusw"><!> <input type="search" autocomplete="off" aria-label="Search" placeholder="Search" class="svelte-13lxusw"> <!> <div class="relative"><div class="absolute btnDelete svelte-13lxusw"><!></div></div> <!></search>');function nr(o,e){pe(e,!0);let r=p(e,"value",15,""),s=p(e,"option",15),a=p(e,"focus",15),l=p(e,"width",3,"100%");const y=Ee(8),f=Ee(8);let B=E(void 0),c=re(()=>e.datalist&&e.datalist.length>0?f:void 0);se(()=>{a(k)});function A(){var T;(T=e.onSearch)==null||T.call(e,r())}function k(){var T;(T=t(B))==null||T.focus()}var g=ar(),z=v(g);P(z,()=>e.options,T=>{var R=er(),O=v(R);pt(O,{ariaLabel:"Search Options",get options(){return e.options},get value(){return s()},set value($){s($)},borderless:!0}),i(R),n(T,R)});var D=q(z,2);vt(D),d(D,"id",y),D.__keydown=[Nt,A,e,r],Ae(D,T=>w(B,T),()=>t(B));var j=q(D,2);P(j,()=>e.datalist,T=>{var R=rr();d(R,"id",f),be(R,21,()=>e.datalist,Le,(O,$)=>{var S=tr(),L={};C(()=>{L!==(L=t($))&&(S.value=(S.__value=t($))==null?"":t($))}),n(O,S)}),i(R),n(T,R)});var W=q(j,2),H=v(W),N=v(H);ge(N,{ariaLabel:"Delete Search Input",invisible:!0,onclick:()=>r(""),children:(T,R)=>{Gt(T,{color:"hsl(var(--bg-high))",width:24})},$$slots:{default:!0}}),i(H),i(W);var M=q(W,2);P(M,()=>e.onSearch,T=>{var R=or(),O=v(R);ge(O,{ariaLabel:"Search",invisible:!0,onclick:A,children:($,S)=>{var L=lr(),m=v(L);Kt(m,{}),i(L),n($,L)},$$slots:{default:!0}}),i(R),n(T,R)}),i(g),C(()=>{me(g,"border",e.borderless?void 0:"1px solid hsl(var(--bg-high))"),me(g,"width",l()),d(D,"list",t(c))}),rt("focus",D,()=>{var T;return(T=e.onFocus)==null?void 0:T.call(e)}),Ot(D,r),n(o,g),fe()}Me(["keydown"]);var sr=he('<svg fill="none" viewBox="0 0 24 24" color="currentColor" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5"></path></svg>');function lt(o,e){let r=p(e,"opacity",8,.9),s=p(e,"width",8,"1.5rem");var a=sr();d(a,"stroke-width",2),C(()=>{d(a,"width",s()),d(a,"opacity",r())}),n(o,a)}function ir(o,e,r,s,a){let l=o.code;l==="ArrowDown"?(o.preventDefault(),e()&&w(r,t(r)+1)):l==="ArrowUp"?(o.preventDefault(),e()&&w(r,t(r)-1)):l==="Enter"&&t(r)>-1?s(t(a)[t(r)]):l==="Enter"&&t(r)===-1&&t(a).length===1&&s(t(a)[0])}var cr=b('<div class="btn svelte-1j5gmms"> <div class="chevron svelte-1j5gmms"><!></div></div>'),vr=b('<div class="optPopover svelte-1j5gmms"> </div>'),dr=b('<div role="listbox" tabindex="0" class="popover svelte-1j5gmms"><!> <div class="popoverOptions svelte-1j5gmms"></div></div>'),ur=b('<option class="opt svelte-1j5gmms"> </option>'),hr=b('<select class="svelte-1j5gmms"></select>');function pt(o,e){pe(e,!0);let r=p(e,"ref",15),s=p(e,"options",19,()=>[]),a=p(e,"value",15),l=p(e,"asPopover",3,!0),y=p(e,"borderless",3,!1),f=p(e,"withSearch",3,!1),B=p(e,"fallbackOptions",3,!1),c=E(void 0),A=E(x(B()?!1:l())),k=E(void 0),g=E(x(f()?-1:0)),z=E(void 0),D=E(""),j=re(()=>{if(!f())return s();if(typeof a()=="string")return s().filter($=>$.toLowerCase().includes(t(D).toLowerCase()));let O=Number.parseInt(t(D))||a();return s().filter($=>$===O)});se(()=>{t(A)!==l()&&w(A,x(l()))}),se(()=>{var O,$;if(t(g)===-1&&((O=t(c))==null||O.scrollTo({top:0,behavior:"smooth"})),f()){if(t(g)<0||t(g)>t(j).length-1){w(g,-1),($=t(z))==null||$();return}}else t(g)<0?w(g,t(j).length-1):t(g)>t(j).length-1&&w(g,0),W()});function W(){if(t(c)){let O=t(c).getElementsByTagName("button")[t(g)];O.scrollIntoView({behavior:"smooth",block:"center"}),O.focus()}else console.error("refOptions is undefined")}function H(O){var $;O==="open"&&(f()?(w(g,-1),($=t(z))==null||$()):(w(g,x(s().findIndex(S=>S===a())||0)),W()))}function N(){return t(j).length>0?!0:(w(g,-1),!1)}function M(O){a(O),w(D,""),setTimeout(()=>{var $;($=t(k))==null||$()},20)}var T=te(),R=F(T);P(R,()=>t(A),O=>{Fe(O,{get ref(){return r()},set ref($){r($)},get ariaLabel(){return e.ariaLabel},roleButton:"combobox",btnInvisible:!0,get close(){return t(k)},set close($){w(k,x($))},get offsetTop(){return e.offsetTop},get offsetLeft(){return e.offsetLeft},onToggle:H,get onLeft(){return e.onLeft},get onRight(){return e.onRight},get onUp(){return e.onUp},get onDown(){return e.onDown},button:$=>{var S=cr(),L=v(S),m=q(L),G=v(m);lt(G,{width:14}),i(m),i(S),C(()=>{d(S,"data-border",!y()),ne(L,`${a()??""} `)}),n($,S)},children:($,S)=>{var L=dr();L.__keydown=[ir,N,g,M,j];var m=v(L);P(m,f,oe=>{nr(oe,{get value(){return t(D)},set value(Z){w(D,x(Z))},get focus(){return t(z)},set focus(Z){w(z,x(Z))},onFocus:()=>w(g,-1)})});var G=q(m,2);be(G,21,()=>t(j),Le,(oe,Z,Te)=>{ge(oe,{invisible:!0,invisibleOutline:!0,onclick:()=>M(t(Z)),children:(_e,He)=>{var ie=vr(),ve=v(ie,!0);i(ie),C(()=>{d(ie,"aria-selected",a()===t(Z)),d(ie,"data-focus",t(g)===Te),ne(ve,t(Z))}),n(_e,ie)},$$slots:{default:!0}})}),i(G),Ae(G,oe=>w(c,oe),()=>t(c)),i(L),C(()=>me(L,"max-height",e.maxHeight)),n($,L)},$$slots:{button:!0,default:!0}})},O=>{var $=hr();be($,21,()=>t(j),Le,(S,L)=>{var m=ur(),G={},oe=v(m,!0);i(m),C(()=>{G!==(G=t(L))&&(m.value=(m.__value=t(L))==null?"":t(L)),m.selected=a()===t(L),ne(oe,t(L))}),n(S,m)}),i($),C(()=>{d($,"name",e.name),d($,"aria-label",e.ariaLabel),$e($,"borderless",y())}),Ht($,a),n(O,$)}),n(o,T),fe()}Me(["keydown"]);var pr=b('<div class="link noselect svelte-1bye1t3"> </div>'),fr=b('<li class="svelte-1bye1t3"><!></li>'),gr=b('<nav aria-label="Pagination" class="svelte-1bye1t3"><ul class="svelte-1bye1t3"></ul></nav>'),br=b('<div class="flex gap-10 svelte-1bye1t3"><div class="flex gap-05 chunkSize noselect svelte-1bye1t3"><div class="svelte-1bye1t3">Entries</div> <div class="svelte-1bye1t3"><!></div></div> <div class="font-label total svelte-1bye1t3"> </div></div>'),mr=b('<div class="iconLeft svelte-1bye1t3" aria-label="Go to previous page"><!></div>'),wr=b('<div class="iconRight svelte-1bye1t3" aria-label="Go to next page"><!></div>'),kr=b('<div class="container svelte-1bye1t3"><!> <!> <!> <!></div>');function yr(o,e){pe(e,!0);const r=S=>{var L=gr(),m=v(L);be(m,21,()=>t(g),Le,(G,oe)=>{var Z=fr(),Te=v(Z);ge(Te,{invisible:!0,onclick:()=>j(t(oe)),onLeft:z,onRight:D,children:(_e,He)=>{var ie=pr(),ve=v(ie,!0);i(ie),C(()=>ne(ve,t(oe))),n(_e,ie)},$$slots:{default:!0}}),i(Z),C(()=>{d(Z,"aria-label",`go to page number: ${t(oe)}`),d(Z,"aria-current",y()===t(oe)?"step":void 0)}),n(G,Z)}),i(m),i(L),n(S,L)},s=S=>{var L=br(),m=v(L),G=q(v(m),2),oe=v(G);pt(oe,{ariaLabel:"Page Count",get value(){return f()},set value(_e){f(_e)},options:a,offsetTop:"-17rem",borderless:!0}),i(G),i(m);var Z=q(m,2),Te=v(Z);i(Z),i(L),C(()=>ne(Te,`Total: ${e.items.length??""}`)),n(S,L)},a=[5,7,10,15,20,30,50,100];let l=p(e,"itemsPaginated",15),y=p(e,"page",15,1),f=p(e,"pageSize",31,()=>x(a[0])),B=p(e,"compact",3,!1);const c=16;let A=Ue(()=>f()),k=E(x([])),g=E(x([]));se(()=>{f()!==A&&(A=Ue(()=>f()),y(1))}),se(()=>{let S=[];for(let L=0;L<e.items.length;L+=f()){const m=e.items.slice(L,L+f());S.push(m)}w(k,x(S)),l(S[y()-1])}),se(()=>{W()});function z(){y()>1&&j(y()-1)}function D(){y()<t(k).length&&j(y()+1)}function j(S){y(S),W()}function W(){let S=[],L=Math.floor(f()/2);if(t(k).length<=f())for(let m=1;m<=t(k).length;(m+=1)-1)S.push(m);else if(y()<=L)for(let m=1;m<=f();(m+=1)-1)S.push(m);else if(y()>t(k).length-L-1)for(let m=t(k).length-f();m<=t(k).length-1;(m+=1)-1)S.push(m+1);else for(let m=y()-L;m<y()-L+f();(m+=1)-1)S.push(m);w(g,x(S))}var H=kr(),N=v(H),M=re(()=>y()===1);ge(N,{onclick:z,invisible:!0,get isDisabled(){return t(M)},children:(S,L)=>{var m=mr(),G=v(m);lt(G,{width:c}),i(m),C(()=>d(m,"data-disabled",y()===1)),n(S,m)},$$slots:{default:!0}});var T=q(N,2);r(T);var R=q(T,2),O=re(()=>y()===t(k).length);ge(R,{onclick:D,invisible:!0,get isDisabled(){return t(O)},children:(S,L)=>{var m=wr(),G=v(m);lt(G,{width:c}),i(m),C(()=>d(m,"data-disabled",y()===t(k).length)),n(S,m)},$$slots:{default:!0}});var $=q(R,2);P($,()=>!B(),S=>{s(S)}),i(H),n(o,H),fe()}function xr(o,e){console.log(o.code),o.code==="Enter"&&e()}var $r=b('<label class="font-label noselect svelte-1supmpl"><input type="checkbox" class="svelte-1supmpl"> <span class="svelte-1supmpl"><!></span></label>');function Pe(o,e){pe(e,!0);let r=p(e,"checked",15,!1),s=p(e,"ariaLabel",3,""),a=p(e,"borderColor",3,"hsl(var(--bg-high))");function l(){r(!r())}var y=$r(),f=v(y);vt(f),f.__click=l,f.__keydown=[xr,l];var B=q(f,2),c=v(B);xe(c,()=>e.children??Ye),i(B),i(y),C(()=>{d(f,"name",e.name),f.disabled=e.disabled,d(f,"aria-disabled",e.disabled),d(f,"aria-checked",r()),d(f,"aria-label",s()),me(f,"border-color",a())}),zt(f,r),n(o,y),fe()}Me(["click","keydown"]);var Lr=he('<svg fill="none" viewBox="0 0 24 24" stroke="currentColor" color="hsl(var(--action))"><path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5"></path></svg>'),Sr=he('<svg fill="none" viewBox="0 0 24 24" stroke="currentColor" color="hsl(var(--error))"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg>');function Cr(o,e){var r=te(),s=F(r);P(s,()=>e.checked,a=>{var l=Lr();d(l,"stroke-width",2),d(l,"width",20),d(l,"opacity",.9),n(a,l)},a=>{var l=Sr();d(l,"stroke-width",2),d(l,"width",20),d(l,"opacity",.9),n(a,l)}),n(o,r)}var Tr=he('<svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"></path></svg>');function _r(o,e){let r=p(e,"color",8,"currentColor"),s=p(e,"opacity",8,.9),a=p(e,"width",8,"1.5rem");var l=Tr();d(l,"stroke-width",2),C(()=>{d(l,"width",a()),d(l,"color",r()),d(l,"opacity",s())}),n(o,l)}var Br=he('<svg fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M3 7.5 7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5"></path></svg>');function Dr(o,e){let r=p(e,"color",8,"currentColor"),s=p(e,"opacity",8,.9),a=p(e,"width",8,"1.5rem");var l=Br();d(l,"stroke-width",2),C(()=>{d(l,"stroke",r()),d(l,"width",a()),d(l,"opacity",s())}),n(o,l)}var jr=he(`<svg fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213
            1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0
            1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0
            1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0
            1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0
            1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52
            0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125
            1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125
            0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"></path></svg>`);function Or(o,e){let r=p(e,"color",8,"currentColor"),s=p(e,"opacity",8,.9),a=p(e,"width",8,"1.5rem");var l=jr();d(l,"stroke-width",2),C(()=>{d(l,"stroke",r()),d(l,"width",a()),d(l,"opacity",s())}),n(o,l)}async function zr(o){var e;await((e=navigator==null?void 0:navigator.clipboard)==null?void 0:e.writeText(o))}var Mr=he(`<svg fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5
            0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"></path></svg>`);function Ar(o,e){let r=p(e,"color",8,"currentColor"),s=p(e,"opacity",8,.9),a=p(e,"width",8,"1.5rem");var l=Mr();d(l,"stroke-width",2),C(()=>{d(l,"stroke",r()),d(l,"width",a()),d(l,"opacity",s())}),n(o,l)}var Ir=b('<span class="btnSelect svelte-12u4ifk"><!></span>'),qr=b('<th class="headerCheckbox svelte-12u4ifk"><!> <!></th>'),Rr=b('<span class="iconOrder svelte-12u4ifk"><!></span>'),Ur=b('<span class="orderText svelte-12u4ifk"> </span> <!>',1),Er=b('<span class="rawText svelte-12u4ifk"> </span>'),Wr=b('<th class="svelte-12u4ifk"><span class="flex-1 label svelte-12u4ifk"><!></span> <span class="relative"><span role="none" class="absolute sizeable svelte-12u4ifk"></span></span></th>'),Pr=b('<th class="headerOptions svelte-12u4ifk"><!></th>'),Hr=b('<td class="checkbox svelte-12u4ifk"><!></td>'),Qr=b('<span class="linkText nowrap svelte-12u4ifk"> </span>'),Vr=b('<span class="linkText nowrap svelte-12u4ifk"> </span>'),Xr=b('<span class="copyToClip nowrap svelte-12u4ifk"> </span>'),Yr=b('<span class="checkIcon nowrap svelte-12u4ifk"><!></span>'),Jr=b('<span class="onclick nowrap svelte-12u4ifk"> </span>'),Fr=b('<span class="rawText nowrap svelte-12u4ifk"> </span>'),Gr=b('<td class="svelte-12u4ifk"><!></td>'),Zr=b('<span class="btnOptions svelte-12u4ifk"><!></span>'),Kr=b('<td class="options svelte-12u4ifk"><!></td>'),Nr=b('<tr class="svelte-12u4ifk"><!><!><!></tr>'),el=b('<div class="eye svelte-12u4ifk"><!></div>'),tl=b('<div class="columnSelect svelte-12u4ifk"><!></div>'),rl=b('<div class="columnSelect svelte-12u4ifk"><!></div>'),ll=b('<div class="columnSelect svelte-12u4ifk"><!></div>'),ol=b('<div class="columnsSelect svelte-12u4ifk"><!> <!> <!></div>'),al=b("<div></div>"),nl=b('<table class="svelte-12u4ifk"><thead class="svelte-12u4ifk"><tr class="svelte-12u4ifk"><!><!><!></tr></thead><tbody class="svelte-12u4ifk"><!></tbody><caption class="flex space-between svelte-12u4ifk"><div class="flex"><!> <div class="caption svelte-12u4ifk"><!></div> <!></div></caption></table>');function sl(o,e){pe(e,!0);let r=p(e,"showColumns",31,()=>x(Array(e.columns.length).fill(!0))),s=p(e,"paginationCompact",3,!1),a=p(e,"paginationPageSize",3,15),l=p(e,"selectInitHide",3,!1),y=p(e,"minWidthColPx",3,50);const f="3rem",B="2rem";let c=x(m()),A=E(x(Ue(()=>c))),k=E(1),g=E(x(Ue(()=>a()))),z=E(!1),D=E(x(Array(e.rows.length).fill(!1))),j=re(()=>t(D).find(h=>h===!0)),W=E(void 0),H=E(x([])),N=E("up"),M=E(x([])),T=re(()=>e.paginationDisabled!==void 0?e.paginationDisabled:e.rows.length<a()),R=re(()=>e.paginationDisabled||t(T)?e.rows.length:t(M)&&t(M).length?t(M).length:(t(k)!=1&&w(k,1),0)),O=x(Array(Ue(()=>c.length)).fill(void 0)),$=E(void 0),S=0,L=E(void 0);se(()=>{setTimeout(()=>{for(let h=1;h<c.length;(h+=1)-1)if(c[h]==="auto"){S=e.select?h:h-1;let u=O[h];u&&ie(u.getBoundingClientRect().width)}},150)}),se(()=>{let h=Array(e.rows.length).fill(!1);if(t(z)){let u;t(k)===1?u=0:u=(t(k)-1)*t(g);let _=Math.min(t(k)*t(g),e.rows.length);for(let U=u;U<_;(U+=1)-1)h[U]=!0}w(D,x(h))}),se(()=>{let h=e.paginationDisabled||t(T)?e.rows.length:t(M).length||0;w(H,x(Array(h).fill(()=>console.error("un-initialized popover close option"))))}),se(()=>{let h=[];for(let u=0;u<c.length;(u+=1)-1)r()[u]&&h.push(c[u]);w(A,x(h))}),se(()=>{if(e.highlight!==void 0&&t($)){let h=e.highlight;!t(T)&&t(k)>1&&(h=e.highlight-(t(k)-1)*t(g)),w(L,x(h)),setTimeout(()=>{var u,_;(_=(u=t($))==null?void 0:u.getElementsByClassName("highlight")[0])==null||_.scrollIntoView({behavior:"smooth",block:"center"})},250)}else w(L,void 0)});function m(){let h=e.columns.map(_=>_.initialWidth),u=[...r()];return e.select&&(h=[f,...h],u=[!l(),...u]),e.options&&(h=[...h,B],u=[...u,!0]),r(u),h}function G(){return t(A).join(" ")}function oe(h,u){w(D,x(Array(e.rows.length).fill(!1)));let _=1;t(N)==="up"?(_=-1,w(N,"down")):w(N,"up"),u==="string"?e.rows.sort((U,K)=>U[h].content.localeCompare(K[h].content)*_):u==="number"&&e.rows.sort((U,K)=>(U[h].content-K[h].content)*_)}function Z(h){return!t(T)&&t(k)>1?(t(k)-1)*t(g)+h:h}function Te(h){S=h;let u=O[h];u?(ie(u.getBoundingClientRect().width),window.addEventListener("mousemove",He),window.addEventListener("mouseup",_e,{once:!0})):console.error("invalid ref from refCols in onMouseDown")}function _e(){window.removeEventListener("mousemove",He)}function He(h){let u=O[S];if(u){let _=u.getBoundingClientRect().left,U=window.scrollX+h.x-_;ie(U)}else console.error("invalid ref from refCols in onMove")}function ie(h){h=Math.ceil(h),h<y()&&(h=y()),c[e.select?S+1:S]=`${h}px`}var ve=nl(),Ge=v(ve),Ze=v(Ge);const bt=re(G);C(()=>me(Ze,"grid-template-columns",t(bt)));var ot=v(Ze);P(ot,()=>e.select&&r()[0],h=>{var u=qr(),_=v(u);Pe(_,{ariaLabel:"Select All",get checked(){return t(z)},set checked(ee){w(z,x(ee))},borderColor:"hsla(var(--text), .4)"});var U=q(_,2),K=re(()=>!t(j));Fe(U,{ariaLabel:"Selected Options",get close(){return t(W)},set close(ee){w(W,x(ee))},get btnDisabled(){return t(K)},btnInvisible:!0,button:ee=>{var X=Ir(),Q=v(X);_r(Q,{width:"1rem"}),i(X),C(()=>d(X,"data-disabled",!t(j))),n(ee,X)},children:(ee,X)=>{var Q=te(),ae=F(Q);xe(ae,()=>e.select,()=>t(D),()=>t(W)),n(ee,Q)},$$slots:{button:!0,default:!0}}),i(u),n(h,u)});var at=q(ot);be(at,17,()=>e.columns,Le,(h,u,_)=>{var U=te(),K=F(U);P(K,()=>r()[e.select?_+1:_],ee=>{var X=Wr(),Q=v(X),ae=v(Q);P(ae,()=>t(u).orderType,V=>{var Y=Ur(),ce=F(Y),de=v(ce,!0);i(ce);var Be=q(ce,2);ge(Be,{invisible:!0,onclick:()=>oe(_,t(u).orderType),children:(Ne,De)=>{var Se=Rr(),Ie=v(Se);Dr(Ie,{width:"1rem"}),i(Se),n(Ne,Se)},$$slots:{default:!0}}),C(()=>ne(de,t(u).content)),n(V,Y)},V=>{var Y=Er(),ce=v(Y,!0);i(Y),C(()=>ne(ce,t(u).content)),n(V,Y)}),i(Q);var J=q(Q,2),I=v(J);I.__mousedown=()=>Te(_),i(J),i(X),Ae(X,(V,Y)=>O[Y]=V,V=>O==null?void 0:O[V],()=>[_]),n(ee,X)}),n(h,U)});var mt=q(at);P(mt,()=>e.options&&r()[r().length-1],h=>{var u=Pr(),_=v(u);Or(_,{width:"1.2rem"}),i(u),n(h,u)}),i(Ze),i(Ge);var Qe=q(Ge);{const h=(u,_=Ye,U=Ye)=>{var K=Nr();const ee=re(G);C(()=>me(K,"grid-template-columns",t(ee)));var X=v(K);P(X,()=>e.select&&r()[0],J=>{var I=Hr(),V=v(I);Pe(V,{ariaLabel:"Select Row",get checked(){return t(D)[Z(U())]},set checked(Y){t(D)[Z(U())]=Y}}),i(I),n(J,I)});var Q=q(X);be(Q,17,_,Le,(J,I,V)=>{var Y=te(),ce=F(Y);P(ce,()=>r()[e.select?V+1:V],de=>{var Be=Gr(),Ne=v(Be);P(Ne,()=>{var De;return((De=e.columns[V])==null?void 0:De.showAs)==="a"},De=>{var Se=re(()=>t(I).href||"");ht(De,{get href(){return t(Se)},children:(Ie,je)=>{var we=Qr(),qe=v(we,!0);i(we),C(()=>{$e(we,"muted",t(I).muted),ne(qe,t(I).content)}),n(Ie,we)},$$slots:{default:!0}})},De=>{var Se=te(),Ie=F(Se);P(Ie,()=>{var je;return((je=e.columns[V])==null?void 0:je.showAs)==="a_blank"},je=>{var we=re(()=>t(I).href||"");ht(je,{get href(){return t(we)},target:"_blank",children:(qe,Oe)=>{var ke=Vr(),Ve=v(ke,!0);i(ke),C(()=>{$e(ke,"muted",t(I).muted),ne(Ve,t(I).content)}),n(qe,ke)},$$slots:{default:!0}})},je=>{var we=te(),qe=F(we);P(qe,()=>{var Oe;return((Oe=e.columns[V])==null?void 0:Oe.showAs)==="copyToClip"},Oe=>{ge(Oe,{invisible:!0,onclick:()=>zr(t(I).content.toString()),children:(ke,Ve)=>{var ue=Xr(),ye=v(ue,!0);i(ue),C(()=>{$e(ue,"muted",t(I).muted),ne(ye,t(I).content)}),n(ke,ue)},$$slots:{default:!0}})},Oe=>{var ke=te(),Ve=F(ke);P(Ve,()=>{var ue;return((ue=e.columns[V])==null?void 0:ue.showAs)==="check"},ue=>{var ye=Yr(),et=v(ye);Cr(et,{get checked(){return t(I).content}}),i(ye),C(()=>$e(ye,"muted",t(I).muted)),n(ue,ye)},ue=>{var ye=te(),et=F(ye);P(et,()=>t(I).onClick,tt=>{ge(tt,{invisible:!0,onclick:Ce=>{var Re,ze;return(ze=(Re=t(I)).onClick)==null?void 0:ze.call(Re,Ce,Z(U()))},children:(Ce,Re)=>{var ze=Jr(),$t=v(ze,!0);i(ze),C(()=>{$e(ze,"muted",t(I).muted),ne($t,t(I).content)}),n(Ce,ze)},$$slots:{default:!0}})},tt=>{var Ce=Fr(),Re=v(Ce,!0);i(Ce),C(()=>{$e(Ce,"muted",t(I).muted),ne(Re,t(I).content)}),n(tt,Ce)},!0),n(ue,ye)},!0),n(Oe,ke)},!0),n(je,we)},!0),n(De,Se)}),i(Be),n(de,Be)}),n(J,Y)});var ae=q(Q);P(ae,()=>e.options&&r()[r().length-1],J=>{var I=Kr(),V=v(I);Fe(V,{ariaLabel:"Options",get close(){return t(H)[U()]},set close(Y){t(H)[U()]=Y},btnInvisible:!0,get offsetLeft(){return e.offsetLeftOptions},get offsetTop(){return e.offsetTopOptions},button:Y=>{var ce=Zr(),de=v(ce);Ar(de,{}),i(ce),n(Y,ce)},children:(Y,ce)=>{var de=te(),Be=F(de);xe(Be,()=>e.options,_,()=>t(H)[U()]),n(Y,de)},$$slots:{button:!0,default:!0}}),i(I),n(J,I)}),i(K),C(()=>$e(K,"highlight",t(L)===U())),n(u,K)};var wt=v(Qe);P(wt,()=>t(T),u=>{var _=te(),U=F(_);P(U,()=>t(D).length===e.rows.length,K=>{var ee=te(),X=F(ee);be(X,17,()=>e.rows,Le,(Q,ae,J)=>{h(Q,()=>t(ae),()=>J)}),n(K,ee)}),n(u,_)},u=>{var _=te(),U=F(_);be(U,17,()=>t(M),Le,(K,ee,X)=>{h(K,()=>t(ee),()=>X)}),n(u,_)}),i(Qe),Ae(Qe,u=>w($,u),()=>t($))}var nt=q(Qe),st=v(nt),it=v(st),kt=re(()=>`-${c.length*1.4+3}rem`);Fe(it,{ariaLabel:"Select Columns",get offsetTop(){return t(kt)},btnInvisible:!0,button:h=>{var u=el(),_=v(u);Mt(_,{}),i(u),n(h,u)},children:(h,u)=>{var _=ol(),U=v(_);P(U,()=>e.select,X=>{var Q=tl(),ae=v(Q);Pe(ae,{ariaLabel:"Select Column: Select",get checked(){return r()[0]},set checked(J){r(r()[0]=J,!0)},children:(J,I)=>{Je();var V=Xe("Select");n(J,V)},$$slots:{default:!0}}),i(Q),n(X,Q)});var K=q(U,2);be(K,17,()=>e.columns,Le,(X,Q,ae)=>{var J=rl(),I=v(J),V=re(()=>`Select Column: ${t(Q).content}`);Pe(I,{get ariaLabel(){return t(V)},get checked(){return r()[e.select?ae+1:ae]},set checked(Y){r(r()[e.select?ae+1:ae]=Y,!0)},children:(Y,ce)=>{Je();var de=Xe();C(()=>ne(de,t(Q).content)),n(Y,de)},$$slots:{default:!0}}),i(J),n(X,J)});var ee=q(K,2);P(ee,()=>e.options,X=>{var Q=ll(),ae=v(Q);Pe(ae,{ariaLabel:"Select Column: Options",get checked(){return r()[r().length-1]},set checked(J){r(r()[r().length-1]=J,!0)},children:(J,I)=>{Je();var V=Xe("Options");n(J,V)},$$slots:{default:!0}}),i(Q),n(X,Q)}),i(_),n(h,_)},$$slots:{button:!0,default:!0}});var Ke=q(it,2),yt=v(Ke);xe(yt,()=>e.caption??Ye),i(Ke);var xt=q(Ke,2);P(xt,()=>t(T),h=>{var u=al();n(h,u)},h=>{yr(h,{get items(){return e.rows},get itemsPaginated(){return t(M)},set itemsPaginated(u){w(M,x(u))},get page(){return t(k)},set page(u){w(k,x(u))},get pageSize(){return t(g)},set pageSize(u){w(g,x(u))},get compact(){return s()}})}),i(st),i(nt),i(ve),C(()=>{d(ve,"aria-colcount",c.length),d(ve,"aria-rowcount",t(R)),me(ve,"width",e.width),me(ve,"max-width",e.maxWidth)}),n(o,ve),fe()}Me(["mousedown"]);var il=b("<p>no results</p>");function cl(o,e){pe(e,!0);let r=E(x([])),s=E(x([]));se(()=>{let c=[],A=[];if(e.rows.length>0){for(let k of e.rows[0].columns)c.push({content:k.name,initialWidth:"12rem",orderType:l(k.value)});for(let k of e.rows){let g=[];for(let z of k.columns)g.push({content:y(z.value)});A.push(g)}}w(r,x(c)),w(s,x(A))});function a(c){return[...new Uint8Array(c)].map(A=>A.toString(16).padStart(2,"0")).join("")}function l(c){return c.hasOwnProperty("Integer")||c.hasOwnProperty("Real")?"number":"string"}function y(c){return c.hasOwnProperty("Integer")?c.Integer:c.hasOwnProperty("Real")?c.Real:c.hasOwnProperty("Text")?c.Text:c.hasOwnProperty("Blob")?`x'${a(c.Blob)}'`:"NULL"}var f=te(),B=F(f);P(B,()=>t(r).length>0&&t(s).length>0,c=>{sl(c,{get columns(){return t(r)},get rows(){return t(s)},set rows(A){w(s,x(A))},paginationPageSize:100})},c=>{var A=il();n(c,A)}),n(o,f),fe()}function vl(o,e){o.ctrlKey&&o.code==="Enter"&&e()}var dl=b('<div role="textbox" tabindex="0" class="query svelte-1o8x9h5" contenteditable=""></div>'),ul=b('<div class="err"> </div>'),hl=b('<!> <!> <div id="query-results" class="svelte-1o8x9h5"><!></div>',1);function pl(o,e){pe(e,!0);let r=p(e,"query",7),s=E(x([])),a=E(""),l=E(void 0),y=E(void 0),f=re(()=>t(l)&&t(y)?`${t(l)-t(y)}px`:"100%");se(()=>{r().query.startsWith(dt)&&(r().query=r().query.replace(`${dt}
`,""),B())});async function B(){w(s,x([])),w(a,"");let j=[];for(let N of r().query.split(/\r?\n/))N.startsWith("--")||j.push(N);let W=j.join(`
`),H=await It("/query",W);if(H.status===200)w(s,x(await H.json()));else{let N=await H.json();w(a,x(Object.values(N)[0]))}}async function c(j){w(y,x(j))}var A=hl(),k=F(A);At(k,{resizeBottom:!0,minHeightPx:100,initialHeightPx:300,onResizeBottom:c,children:(j,W)=>{var H=dl();H.__keydown=[vl,B],Vt("innerText",H,()=>r().query,N=>r().query=N),n(j,H)},$$slots:{default:!0}});var g=q(k,2);P(g,()=>t(a),j=>{var W=ul(),H=v(W,!0);i(W),C(()=>ne(H,t(a))),n(j,W)});var z=q(g,2),D=v(z);cl(D,{get rows(){return t(s)},set rows(j){w(s,x(j))}}),i(z),C(()=>{me(z,"height",t(f)),me(z,"max-height",t(f))}),Xt("innerHeight",j=>w(l,x(j))),n(o,A),fe()}Me(["keydown"]);var fl=he('<svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg>');function gl(o,e){let r=p(e,"color",8,"var(--col-err)"),s=p(e,"opacity",8,.9),a=p(e,"width",8,"1.5rem");var l=fl();d(l,"stroke-width",2),C(()=>{d(l,"width",a()),d(l,"color",r()),d(l,"opacity",s())}),n(o,l)}function bl(o,e,r,s){t(e)?o.code==="Enter"&&(o.preventDefault(),r()):s()}function ft(o,e,r){e.onClose(r())}var ml=b('<div class="row svelte-1ml8s23"><div role="button" tabindex="0"><!></div> <div class="close svelte-1ml8s23"><div role="button" tabindex="0" class="close-inner svelte-1ml8s23"><!></div></div></div>');function wl(o,e){pe(e,!0);let r=p(e,"tab",15),s=p(e,"tabSelected",15),a,l=re(()=>s()===r());function y(){let D=a.innerText;r(D),s(D)}function f(){t(l)||s(r())}var B=ml(),c=v(B);c.__click=f,c.__keydown=[bl,l,y,f];var A=v(c);xe(A,()=>e.children),i(c),Ae(c,D=>a=D,()=>a);var k=q(c,2),g=v(k);g.__click=[ft,e,r],g.__keydown=[ft,e,r];var z=v(g);gl(z,{color:"hsl(var(--error))",width:"1.2rem"}),i(g),i(k),i(B),C(()=>{qt(c,`${(t(l)?"tab selected":"tab")??""} svelte-1ml8s23`),d(c,"contenteditable",t(l))}),rt("blur",c,y),n(o,B),fe()}Me(["click","keydown"]);var kl=he('<svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15"></path></svg>');function yl(o,e){let r=p(e,"opacity",8,.9),s=p(e,"width",8,"1.5rem");var a=kl();d(a,"stroke-width",2),C(()=>{d(a,"width",s()),d(a,"opacity",r())}),n(o,a)}function gt(){le.push({id:Ee(6),query:Rt})}var xl=b('<div id="tabs" class="svelte-ko98zn"><!> <div role="button" tabindex="0" title="Add New Tab" class="ctrl add-new svelte-ko98zn"><!></div></div> <!>',1);function $l(o,e){pe(e,!0);let r=E(x(le[0].id)),s=re(()=>le.filter(k=>k.id===t(r))[0]);se(()=>{le.length>0?w(r,x(le[le.length-1].id)):w(r,"")});function a(k){let g=le.map(z=>z.id).indexOf(k);t(r)===k?le.length===1?(le.push(Ut),le.shift(),w(r,x(le[0].id))):g===0?(le.shift(),w(r,x(le[0].id))):(le.splice(g,1),w(r,x(le[g-1].id))):le.splice(g,1)}var l=xl(),y=F(l),f=v(y);be(f,17,()=>le,k=>k.id,(k,g)=>{wl(k,{get tab(){return t(g).id},set tab(z){t(g).id=z},get tabSelected(){return t(r)},set tabSelected(z){w(r,x(z))},onClose:a,children:(z,D)=>{Je();var j=Xe();C(()=>ne(j,t(g).id)),n(z,j)},$$slots:{default:!0}})});var B=q(f,2);B.__click=[gt],B.__keydown=[gt];var c=v(B);yl(c,{}),i(B),i(y);var A=q(y,2);pl(A,{get query(){return t(s)}}),n(o,l),fe()}Me(["click","keydown"]);var Ll=b('<meta property="description" content="Hiqlite Dashboard">');function Sl(o){Bt(e=>{var r=Ll();jt.title="Hiqlite",n(e,r)}),$l(o,{})}export{Sl as component};
