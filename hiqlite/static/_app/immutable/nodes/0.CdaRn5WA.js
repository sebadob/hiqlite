import{a as v,t as k,p as ne,o as le,f as ve,s as T,q as ue,b as U,c as pe}from"../chunks/DJmSGhnc.js";import{p as F,a as we,j as N,g as s,v as M,i as O,ad as I,s as b,k as g,l as w,t as L,aQ as qe,aR as B,h as me,ab as he,aS as Pe,aT as Te,aU as Ae}from"../chunks/WH8gHp3S.js";import{a as A,i as R,p as j}from"../chunks/UlN6PZgr.js";import{B as be,t as te,c as Ve,s as de,a as $,h as He,r as Ie,b as Re,I as Be,d as ge,e as De,A as fe,f as ce,g as ke,i as Oe,j as _e,k as ye,l as $e,R as Ee,m as Ue,n as Ge,Q as Qe,D as ze}from"../chunks/Dzdjl--S.js";import"../chunks/CZNW28Sq.js";const Fe=!0,Ne=Object.freeze(Object.defineProperty({__proto__:null,prerender:Fe},Symbol.toStringTag,{value:"Module"}));var Xe=k(`<div class="icon moon svelte-b827j5"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75
                        0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75
                        21a9.753 9.753 0 009.002-5.998z"></path></svg></div>`),Ke=k(`<div class="icon sun svelte-b827j5"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-6 h-6"><path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386l-1.591 1.591M21 12h-2.25m-.386 6.364l-1.591-1.591M12
                        18.75V21m-4.773-4.227l-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75
                        3.75 0 11-7.5 0 3.75 3.75 0 017.5 0z"></path></svg></div>`),Ye=k("<!> <!>",1);function Je(a,e){F(e,!0);const t="darkMode",[o,i]=Ve({});let n=I(void 0);we(()=>{var m,d,u;const _=((d=(m=window==null?void 0:window.matchMedia)==null?void 0:m.call(window,"(prefers-color-scheme:dark)"))==null?void 0:d.matches)??!1;if(s(n)===void 0){const h=(u=window==null?void 0:window.localStorage)==null?void 0:u.getItem(t);if(h){let y=h==="true";s(n)===_&&localStorage.removeItem(t),M(n,y)}else M(n,A(_))}else s(n)?(document.body.classList.remove("light-theme"),document.body.classList.add("dark-theme")):(document.body.classList.remove("dark-theme"),document.body.classList.add("light-theme"));_===s(n)?localStorage.removeItem(t):localStorage.setItem(t,s(n).toString())});function C(){M(n,!s(n))}be(a,{ariaLabel:"Change color theme",invisible:!0,onclick:C,children:(_,m)=>{var d=Ye(),u=O(d);{var h=l=>{var f=Xe();te(1,f,()=>i,()=>({key:"dark"})),te(2,f,()=>o,()=>({key:"light"})),v(l,f)};R(u,l=>{s(n)===!0&&l(h)})}var y=b(u,2);{var S=l=>{var f=Ke();te(1,f,()=>i,()=>({key:"light"})),te(2,f,()=>o,()=>({key:"dark"})),v(l,f)};R(y,l=>{s(n)===!1&&l(S)})}v(_,d)},$$slots:{default:!0}}),N()}var We=k('<div class="theme-switch svelte-jrz9as"><!></div>');function Ze(a){var e=We(),t=g(e);Je(t,{}),w(e),v(a,e)}var et=k("<form><!></form>");function tt(a,e){F(e,!0);let t=j(e,"method",3,"POST"),o=j(e,"isError",15);async function i(_){_.preventDefault();const m=_.currentTarget;if(m.reportValidity())o(!1);else{o(!0);return}const d=new FormData(m);let u=new URLSearchParams;if(d.forEach((y,S)=>{u.append(S,y.toString())}),e.onSubmit){e.onSubmit(m,u);return}const h=await fetch(m.action,{method:m.method,headers:{"Content-type":"application/x-www-form-urlencoded"},body:u});He(h),e.onResponse&&(e.onResponse(h),h.ok&&m.reset())}var n=et(),C=g(n);de(C,()=>e.children),w(n),L(()=>{$(n,"action",e.action),$(n,"method",t())}),ne("submit",n,i),v(a,n),N()}var at=le(`<svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0
            002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08M15.75 18.75v-1.875a3.375
            3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5A3.375 3.375 0 006.375
            7.5H5.25m11.9-3.664A2.251 2.251 0 0015 2.25h-1.5a2.251 2.251 0 00-2.15 1.586m5.8
            0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125
            1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 00-9-9z"></path></svg>`);function rt(a,e){let t=j(e,"opacity",8,.9),o=j(e,"width",8,"1.5rem");var i=at();$(i,"stroke-width",2),L(()=>{$(i,"width",o()),$(i,"opacity",t())}),v(a,i)}var st=le(`<svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.98 8.223A10.477 10.477 0 001.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138
            2.863-.395M6.228 6.228A10.45 10.45 0 0112 4.5c4.756 0 8.773 3.162 10.065 7.498a10.523 10.523 0
            01-4.293 5.774M6.228 6.228L3 3m3.228 3.228l3.65 3.65m7.894 7.894L21 21m-3.228-3.228l-3.65-3.65m0
            0a3 3 0 10-4.243-4.243m4.242 4.242L9.88 9.88"></path></svg>`);function it(a,e){let t=j(e,"color",8,"var(--col-err)"),o=j(e,"opacity",8,.9),i=j(e,"width",8,"1.5rem");var n=st();$(n,"stroke-width",2),L(()=>{$(n,"width",i()),$(n,"color",t()),$(n,"opacity",o())}),v(a,n)}function je(a,e){navigator.clipboard?navigator.clipboard.writeText(e()):console.error("Copy to clipboard is only available in secure contexts")}function xe(a,e){e()==="password"?e("text"):e("password")}function ot(a){}function nt(a){a.code}var lt=k('<div role="button" tabindex="0" class="btn clip svelte-11t06s4"><!></div>'),vt=k('<div class="nolabel svelte-11t06s4"></div>'),dt=k('<div class="error svelte-11t06s4"><!> </div>'),ct=k('<div><div class="input-row svelte-11t06s4"><input> <div class="rel svelte-11t06s4"><!> <div role="button" tabindex="0" class="btn show svelte-11t06s4"><!></div></div></div></div> <div class="label svelte-11t06s4"><label class="font-label noselect svelte-11t06s4"> </label> <!></div>',1);function ut(a,e){let t=j(e,"type",7,"password"),o=j(e,"name",3,"password"),i=j(e,"value",7,""),n=j(e,"label",3,"Password"),C=j(e,"autocomplete",3,"current-password"),_=j(e,"placeholder",3,"Password"),m=j(e,"title",3,"Password"),d=j(e,"disabled",3,!1),u=j(e,"min",3,"14"),h=j(e,"max",3,"128"),y=j(e,"required",3,!0),S=j(e,"width",3,"inherit"),l=j(e,"showCopy",3,!1),f=I(!1);function c(x){var W;const H=(W=x==null?void 0:x.currentTarget)==null?void 0:W.reportValidity();M(f,!H)}function p(x){x.preventDefault(),M(f,!0)}var q=ct(),V=O(q),D=g(V),r=g(D);Ie(r),r.__input=[ot],r.__keydown=[nt];var P=b(r,2),K=g(P);{var se=x=>{var H=lt();H.__click=[je,i],H.__keydown=[je,i];var W=g(H);rt(W,{}),w(H),v(x,H)};R(K,x=>{l()&&x(se)})}var G=b(K,2);G.__click=[xe,t],G.__keydown=[xe,t];var E=g(G);{var Q=x=>{it(x,{width:22})},ee=x=>{Be(x,{width:22})};R(E,x=>{t()==="password"?x(Q):x(ee,!1)})}w(G),w(P),w(D),w(V);var ae=b(V,2),Y=g(ae),ie=g(Y,!0);w(Y);var z=b(Y,2);{var J=x=>{var H=dt(),W=g(H);{var Le=oe=>{var Me=vt();v(oe,Me)};R(W,oe=>{n()||oe(Le)})}var Ce=b(W);w(H),L(()=>T(Ce,` ${m()??""}`)),te(3,H,()=>De),v(x,H)};R(z,x=>{s(f)&&x(J)})}w(ae),L(()=>{ge(V,"width",S()),$(r,"type",t()),$(r,"id",e.id),$(r,"name",o()),$(r,"title",m()),$(r,"aria-label",m()),$(r,"autocomplete",C()),$(r,"placeholder",_()),r.disabled=d(),r.required=y()||void 0,$(r,"maxlength",e.maxLength||void 0),$(r,"min",u()||void 0),$(r,"max",h()||void 0),$(r,"pattern",e.pattern||void 0),ge(r,"padding-right",l()?"55px":"30px"),$(Y,"for",e.id),$(Y,"data-required",y()),T(ie,n())}),ne("invalid",r,p),ne("blur",r,c),Re(r,i),v(a,q)}ve(["input","keydown","click"]);var pt=k('<meta property="description" content="Hiqlite Login">'),wt=k('<div class="err"> </div>'),mt=k("<!> <!> <!>",1),ht=k('<div class="container svelte-dc3gug"><div class="login svelte-dc3gug"><!></div></div>');function bt(a,e){F(e,!0);const t=`${fe}/session`;let o=I(""),i=I(!1);async function n(d,u){M(o,""),M(i,!0),u.append("pow","NoPowUntilSvelte5ErrorFixed");const h=await fetch(t,{method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded"},body:u});let y=await h.json();h.status===200?ce.set(y):M(o,A(Object.values(y)[0])),M(i,!1)}var C=ht();ue(d=>{var u=pt();qe.title="Login",v(d,u)});var _=g(C),m=g(_);tt(m,{action:t,onSubmit:n,children:(d,u)=>{var h=mt(),y=O(h);ut(y,{id:"password",name:"password",autocomplete:"current-password",placeholder:"Password",title:"Valid Dashboard Password",required:!0});var S=b(y,2);be(S,{type:"submit",level:1,get isLoading(){return s(i)},children:(c,p)=>{B();var q=U("Login");v(c,q)},$$slots:{default:!0}});var l=b(S,2);{var f=c=>{var p=wt(),q=g(p,!0);w(p),L(()=>T(q,s(o))),v(c,p)};R(l,c=>{s(o)&&c(f)})}v(d,h)},$$slots:{default:!0}}),w(_),w(C),v(a,C),N()}var Z=(a=>(a.Table="table",a.Index="index",a.Trigger="view",a.View="trigger",a))(Z||{}),gt=k(" <br>",1),ft=k('<section class="svelte-y9kii"><h5 class="header"> <br> </h5> <div class="sql font-mono svelte-y9kii"></div></section>');function kt(a,e){F(e,!0);let t=me(()=>{var m;return(m=e.table.sql)==null?void 0:m.split(`
`)});var o=ft(),i=g(o),n=g(i,!0),C=b(n,2);w(i);var _=b(i,2);ke(_,21,()=>s(t),Oe,(m,d)=>{B();var u=gt(),h=O(u,!0);B(),L(()=>T(h,s(d))),v(m,u)}),w(_),w(o),L(()=>{T(n,e.table.name),T(C,` ${e.table.typ??""}: ${e.table.tbl_name??""}`)}),v(a,o),N()}function Se(a,e,t){e(t.view)}var _t=k('<div role="button" tabindex="0"> </div>');function re(a,e){let t=j(e,"viewSelected",15);var o=_t();o.__click=[Se,t,e],o.__keydown=[Se,t,e];var i=g(o,!0);w(o),L(()=>{_e(o,ye(t()===e.view?"selected":""),"svelte-13ofdkm"),T(i,e.view)}),v(a,o)}ve(["click","keydown"]);var yt=le('<svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"></path></svg>');function $t(a,e){let t=j(e,"opacity",8,.9),o=j(e,"width",8,"1.5rem");var i=yt();$(i,"stroke-width",2),L(()=>{$(i,"width",o()),$(i,"opacity",t())}),v(a,i)}var jt=k('<div class="err"> </div>'),xt=(a,e,t)=>e(s(t).name),St=(a,e,t)=>e(s(t).name),Lt=(a,e,t)=>e(s(t).name),Ct=(a,e,t)=>e(s(t).name),Mt=k('<div role="button" tabindex="0" class="btn svelte-trjj59"><!></div>'),qt=k('<div role="button" tabindex="0"><div> </div> <!></div>'),Pt=k('<!> <div class="selector svelte-trjj59"><!> <!> <!> <!></div> <div class="tables svelte-trjj59"><!> <!></div>',1);function Tt(a,e){F(e,!0);let t=I(A([])),o=I(void 0),i=I(A(Z.Table)),n=I(void 0);we(()=>{C(s(i))});async function C(r){let P=await $e(`/tables/${r}`);P.status===200?M(t,A(await P.json())):M(n,A(await P.json()))}function _(r){M(o,A(s(t).filter(P=>P.name===r)[0]))}function m(r){let P={id:`${r}_${Ue(4)}`,query:`${Ge}
PRAGMA table_info(${r})`};Qe.push(P),_(r)}var d=Pt(),u=O(d);{var h=r=>{var P=jt(),K=g(P,!0);w(P),L(()=>T(K,s(n))),v(r,P)};R(u,r=>{s(n)&&r(h)})}var y=b(u,2),S=g(y);re(S,{get view(){return Z.Table},get viewSelected(){return s(i)},set viewSelected(r){M(i,A(r))}});var l=b(S,2);re(l,{get view(){return Z.Index},get viewSelected(){return s(i)},set viewSelected(r){M(i,A(r))}});var f=b(l,2);re(f,{get view(){return Z.Trigger},get viewSelected(){return s(i)},set viewSelected(r){M(i,A(r))}});var c=b(f,2);re(c,{get view(){return Z.View},get viewSelected(){return s(i)},set viewSelected(r){M(i,A(r))}}),w(y);var p=b(y,2),q=g(p);Ee(q,{resizeBottom:!0,initialHeightPx:window?window.innerHeight-400:600,minHeightPx:120,children:(r,P)=>{var K=pe(),se=O(K);ke(se,17,()=>s(t),G=>G.name,(G,E)=>{var Q=qt();Q.__click=[xt,_,E],Q.__keydown=[St,_,E];var ee=g(Q),ae=g(ee,!0);w(ee);var Y=b(ee,2);{var ie=z=>{var J=Mt();J.__click=[Lt,m,E],J.__keydown=[Ct,m,E];var x=g(J);$t(x,{}),w(J),v(z,J)};R(Y,z=>{s(E).typ==="table"&&z(ie)})}w(Q),L(()=>{var z;_e(Q,ye(((z=s(o))==null?void 0:z.name)===s(E).name?"entry selected":"entry"),"svelte-trjj59"),T(ae,s(E).name)}),v(G,Q)}),v(r,K)},$$slots:{default:!0}});var V=b(q,2);{var D=r=>{kt(r,{get table(){return s(o)}})};R(V,r=>{s(o)&&r(D)})}w(p),v(a,d),N()}ve(["click","keydown"]);var At=k('<div class="metric svelte-1ktnipf"><div class="label font-label svelte-1ktnipf"> </div> <div class="font-mono"><!></div></div>');function X(a,e){F(e,!0);var t=At(),o=g(t),i=g(o,!0);w(o);var n=b(o,2),C=g(n);de(C,()=>e.children),w(n),w(t),L(()=>T(i,e.label)),v(a,t),N()}var Vt=k('<b>Metrics</b> <div class="space svelte-12lemcq"></div> <!> <!> <!> <!> <!> <!> <!> <!>',1);function Ht(a,e){F(e,!0);let t=I(void 0),o=me(()=>{var l;return(l=s(t))==null?void 0:l.membership_config.membership.configs.join(", ")});setInterval(()=>{i()},1e4),he(()=>{i()});async function i(){let l=await $e("/metrics");l.status===200?M(t,A(await l.json())):console.error(await l.json())}var n=Vt(),C=b(O(n),4);X(C,{label:"This Node",children:(l,f)=>{B();var c=U();L(()=>{var p,q;return T(c,`${((p=s(t))==null?void 0:p.id)??""}
    ${((q=s(t))==null?void 0:q.state)??""}`)}),v(l,c)},$$slots:{default:!0}});var _=b(C,2);X(_,{label:"Current Leader",children:(l,f)=>{B();var c=U();L(()=>{var p;return T(c,(p=s(t))==null?void 0:p.current_leader)}),v(l,c)},$$slots:{default:!0}});var m=b(_,2);X(m,{label:"Vote Leader",children:(l,f)=>{B();var c=U();L(()=>{var p;return T(c,(p=s(t))==null?void 0:p.vote.leader_id.node_id)}),v(l,c)},$$slots:{default:!0}});var d=b(m,2);X(d,{label:"Last Log Index",children:(l,f)=>{B();var c=U();L(()=>{var p;return T(c,(p=s(t))==null?void 0:p.last_log_index)}),v(l,c)},$$slots:{default:!0}});var u=b(d,2);X(u,{label:"Last Applied Log",children:(l,f)=>{B();var c=U();L(()=>{var p,q,V,D,r,P;return T(c,`${((q=(p=s(t))==null?void 0:p.last_applied)==null?void 0:q.leader_id.node_id)??""}
    -
    ${((D=(V=s(t))==null?void 0:V.last_applied)==null?void 0:D.leader_id.term)??""}
    -
    ${((P=(r=s(t))==null?void 0:r.last_applied)==null?void 0:P.index)??""}`)}),v(l,c)},$$slots:{default:!0}});var h=b(u,2);X(h,{label:"Last Snapshot",children:(l,f)=>{B();var c=U();L(()=>{var p,q,V,D;return T(c,`${((q=(p=s(t))==null?void 0:p.snapshot)==null?void 0:q.leader_id)??""}
    -
    ${((D=(V=s(t))==null?void 0:V.snapshot)==null?void 0:D.index)??""}`)}),v(l,c)},$$slots:{default:!0}});var y=b(h,2);X(y,{label:"Members",children:(l,f)=>{B();var c=U();L(()=>T(c,s(o))),v(l,c)},$$slots:{default:!0}});var S=b(y,2);X(S,{label:"Millis Quorum Ack",children:(l,f)=>{B();var c=U();L(()=>{var p;return T(c,(p=s(t))==null?void 0:p.millis_since_quorum_ack)}),v(l,c)},$$slots:{default:!0}}),v(a,n),N()}var It=k('<aside class="svelte-154rhoy"><!></aside>');function Rt(a){var e=It(),t=g(e);Ht(t,{}),w(e),v(a,e)}const Bt=(a,e,t)=>{if(Pe(a))return Te(a);const o=e(t);return Ae(a,o),o},Dt=(a,e)=>Bt(a,Ot,e),Ot=a=>{let e=I(A(a));return{get value(){return s(e)},set value(t){M(e,A(t))}}};var Et=k('<meta name="robots" content="noindex nofollow">'),Ut=k('<nav class="svelte-vv6eq"><!></nav> <main class="svelte-vv6eq"><div class="inner svelte-vv6eq"><!></div></main> <!>',1),Gt=k("<!> <!>",1);function Qt(a,e){F(e,!0);let t=I(void 0),o=I(!1);Dt("queries",[ze]),ce.subscribe(d=>{M(t,A(d))}),he(async()=>{let d=await fetch(`${fe}/session`);d.status===200&&ce.set(await d.json()),M(o,!0)});var i=Gt();ue(d=>{var u=Et();v(d,u)});var n=O(i);{var C=d=>{var u=Ut(),h=O(u),y=g(h);Tt(y,{}),w(h);var S=b(h,2),l=g(S),f=g(l);de(f,()=>e.children),w(l),w(S);var c=b(S,2);Rt(c),v(d,u)},_=d=>{var u=pe(),h=O(u);{var y=S=>{bt(S,{})};R(h,S=>{s(o)&&S(y)},!0)}v(d,u)};R(n,d=>{s(t)?d(C):d(_,!1)})}var m=b(n,2);Ze(m),v(a,i),N()}export{Qt as component,Ne as universal};
