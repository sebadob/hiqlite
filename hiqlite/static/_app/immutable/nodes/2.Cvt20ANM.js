import{q as St,x as Tt,y as Ct,s as _t,a,t as b,c as Lt,e as te,v as rt,r as he,k as Pe,b as ae,f as Xe,w as Dt}from"../chunks/disclose-version.BEQx4QIg.js";import"../chunks/legacy.COGZABUe.js";import{R as ct,T as jt,p as pe,m as v,o as i,t as C,g as t,k as fe,i as re,u as se,j as F,aa as U,q as I,z as w,b as Re,n as Ye,aO as Je,aN as Bt}from"../chunks/runtime.BELmqrWi.js";import{s as xe,a as d,n as $e,l as Ue,B as ge,r as vt,g as be,i as Se,d as me,b as Ot,o as zt,I as Pt,R as Mt,m as dt,p as At,j as It,Q as le,q as qt,D as Rt}from"../chunks/Resizable.DwgFMMVC.js";import{c as Ut,p,i as W,b as Me,a as x}from"../chunks/props.CdR0yINJ.js";import{p as Et}from"../chunks/stores.42k001Tp.js";function ut(n,e,r){if(n.multiple)return Ht(n,e);for(var s of n.options){var o=Ee(s);if(Ut(o,e)){s.selected=!0;return}}(!r||e!==void 0)&&(n.selectedIndex=-1)}function Wt(n,e){ct(()=>{var r=new MutationObserver(()=>{var s=n.__value;ut(n,s)});return r.observe(n,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function Nt(n,e,r=e){var s=!0;St(n,"change",()=>{var o;if(n.multiple)o=[].map.call(n.querySelectorAll(":checked"),Ee);else{var l=n.querySelector(":checked");o=l&&Ee(l)}r(o)}),ct(()=>{var o=e();if(ut(n,o,s),s&&o===void 0){var l=n.querySelector(":checked");l!==null&&(o=Ee(l),r(o))}n.__value=o,s=!1}),Wt(n)}function Ht(n,e){for(var r of n.options)r.selected=~e.indexOf(Ee(r))}function Ee(n){return"__value"in n?n.__value:n.value}function Vt(n,e,r,s=r){e.addEventListener("input",()=>{s(e[n])}),jt(()=>{var o=r();if(e[n]!==o)if(o==null){var l=e[n];s(l)}else e[n]=o+""})}function Xt(n,e){Tt(window,["resize"],()=>Ct(()=>e(window[n])))}var Yt=b('<span class="font-label"><a class="svelte-a0xtvp"><!></a></span>');function ht(n,e){pe(e,!0);const r=_t(),s=()=>Lt(Et,"$page",r);let o=p(e,"selectedStep",3,!1),l=p(e,"hideUnderline",3,!1),y=re(()=>{if(o())return"step";if(s().route.id===e.href.split("?")[0])return"page"});var f=Yt(),D=v(f),c=v(D);xe(c,()=>e.children),i(D),i(f),C(()=>{d(D,"href",e.href),d(D,"target",e.target),d(D,"aria-current",t(y)),$e(D,"hideUnderline",l())}),a(n,f),fe()}var Jt=b('<!> <div class="popover svelte-1au8ouo" popover="auto"><div class="inner fade-in svelte-1au8ouo"><!></div></div>',1);function Fe(n,e){pe(e,!0);let r=p(e,"ref",15),s=p(e,"roleButton",3,"button"),o=p(e,"offsetLeft",3,"0px"),l=p(e,"offsetTop",3,"0px"),y=p(e,"close",15);const f=Ue(8),D=Ue(8);let c=U(void 0),M=U(!1);se(()=>{y(g)});function k(){if(r()&&t(c))if(e.absolute)t(c).style.top=l(),t(c).style.left=o();else{let P=r().getBoundingClientRect();t(c).style.top=`calc(${P.bottom+window.scrollY}px + ${l()})`,t(c).style.left=`calc(${P.left+window.scrollX}px + ${o()})`}else console.error("button and popover ref missing")}function g(){var P;(P=t(c))==null||P.hidePopover()}function z(P){var q;let _=P.newState;w(M,_==="open"),(q=e.onToggle)==null||q.call(e,_)}var j=Jt(),B=F(j);ge(B,{get ref(){return r()},set ref(P){r(P)},get role(){return s()},id:f,ariaControls:D,popovertarget:D,onclick:k,get invisible(){return e.btnInvisible},get isDisabled(){return e.btnDisabled},get onLeft(){return e.onLeft},get onRight(){return e.onRight},get onUp(){return e.onUp},get onDown(){return e.onDown},children:(P,_)=>{var q=te(),O=F(q);xe(O,()=>e.button),a(P,q)},$$slots:{default:!0}});var E=I(B,2);d(E,"id",D),d(E,"aria-labelledby",f);var N=v(E),Q=v(N);W(Q,()=>e.lazy,P=>{var _=te(),q=F(_);W(q,()=>t(M),O=>{var $=te(),T=F($);xe(T,()=>e.children),a(O,$)}),a(P,_)},P=>{var _=te(),q=F(_);xe(q,()=>e.children),a(P,_)}),i(N),i(E),Me(E,P=>w(c,P),()=>t(c)),C(()=>d(E,"aria-label",e.ariaLabel)),rt("toggle",E,z),a(n,j),fe()}var Ft=he('<svg fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9.75L14.25 12m0 0l2.25 2.25M14.25 12l2.25-2.25M14.25 12L12 14.25m-2.58 4.92l-6.375-6.375a1.125 1.125 0 010-1.59L9.42 4.83c.211-.211.498-.33.796-.33H19.5a2.25 2.25 0 012.25 2.25v10.5a2.25 2.25 0 01-2.25 2.25h-9.284c-.298 0-.585-.119-.796-.33z"></path></svg>');function Gt(n,e){let r=p(e,"color",8,"currentColor"),s=p(e,"opacity",8,.9),o=p(e,"width",8,"1.5rem");var l=Ft();d(l,"stroke-width",2),C(()=>{d(l,"stroke",r()),d(l,"width",o()),d(l,"opacity",s())}),a(n,l)}var Zt=he('<svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path></svg>');function Kt(n,e){let r=p(e,"opacity",8,.9),s=p(e,"width",8,"1.5rem");var o=Zt();d(o,"stroke-width",2),C(()=>{d(o,"width",s()),d(o,"opacity",r())}),a(n,o)}function Qt(n,e,r,s){var o,l,y;switch(n.code){case"Enter":e();break;case"Tab":(o=r.onTab)==null||o.call(r,s());break;case"ArrowUp":(l=r.onUp)==null||l.call(r,s());break;case"ArrowDown":(y=r.onDown)==null||y.call(r,s());break}}var er=b('<div class="options svelte-13lxusw"><!></div>'),tr=b("<option></option>"),rr=b('<datalist class="absolute svelte-13lxusw"></datalist>'),lr=b('<div class="magnify svelte-13lxusw"><!></div>'),nr=b('<div class="btnSearch svelte-13lxusw"><!></div>'),or=b('<search class="flex container svelte-13lxusw"><!> <input type="search" autocomplete="off" aria-label="Search" placeholder="Search" class="svelte-13lxusw"> <!> <div class="relative"><div class="absolute btnDelete svelte-13lxusw"><!></div></div> <!></search>');function ar(n,e){pe(e,!0);let r=p(e,"value",15,""),s=p(e,"option",15),o=p(e,"focus",15),l=p(e,"width",3,"100%");const y=Ue(8),f=Ue(8);let D=U(void 0),c=re(()=>e.datalist&&e.datalist.length>0?f:void 0);se(()=>{o(k)});function M(){var _;(_=e.onSearch)==null||_.call(e,r())}function k(){var _;(_=t(D))==null||_.focus()}var g=or(),z=v(g);W(z,()=>e.options,_=>{var q=er(),O=v(q);pt(O,{ariaLabel:"Search Options",get options(){return e.options},get value(){return s()},set value($){s($)},borderless:!0}),i(q),a(_,q)});var j=I(z,2);vt(j),d(j,"id",y),j.__keydown=[Qt,M,e,r],Me(j,_=>w(D,_),()=>t(D));var B=I(j,2);W(B,()=>e.datalist,_=>{var q=rr();d(q,"id",f),be(q,21,()=>e.datalist,Se,(O,$)=>{var T=tr(),S={};C(()=>{S!==(S=t($))&&(T.value=(T.__value=t($))==null?"":t($))}),a(O,T)}),i(q),a(_,q)});var E=I(B,2),N=v(E),Q=v(N);ge(Q,{ariaLabel:"Delete Search Input",invisible:!0,onclick:()=>r(""),children:(_,q)=>{Gt(_,{color:"hsl(var(--bg-high))",width:24})},$$slots:{default:!0}}),i(N),i(E);var P=I(E,2);W(P,()=>e.onSearch,_=>{var q=nr(),O=v(q);ge(O,{ariaLabel:"Search",invisible:!0,onclick:M,children:($,T)=>{var S=lr(),m=v(S);Kt(m,{}),i(S),a($,S)},$$slots:{default:!0}}),i(q),a(_,q)}),i(g),C(()=>{me(g,"border",e.borderless?void 0:"1px solid hsl(var(--bg-high))"),me(g,"width",l()),d(j,"list",t(c))}),rt("focus",j,()=>{var _;return(_=e.onFocus)==null?void 0:_.call(e)}),Ot(j,r),a(n,g),fe()}Pe(["keydown"]);var sr=he('<svg fill="none" viewBox="0 0 24 24" color="currentColor" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5"></path></svg>');function lt(n,e){let r=p(e,"opacity",8,.9),s=p(e,"width",8,"1.5rem");var o=sr();d(o,"stroke-width",2),C(()=>{d(o,"width",s()),d(o,"opacity",r())}),a(n,o)}function ir(n,e,r,s,o){let l=n.code;l==="ArrowDown"?(n.preventDefault(),e()&&w(r,t(r)+1)):l==="ArrowUp"?(n.preventDefault(),e()&&w(r,t(r)-1)):l==="Enter"&&t(r)>-1?s(t(o)[t(r)]):l==="Enter"&&t(r)===-1&&t(o).length===1&&s(t(o)[0])}var cr=b('<div class="btn svelte-1j5gmms"> <div class="chevron svelte-1j5gmms"><!></div></div>'),vr=b('<div class="optPopover svelte-1j5gmms"> </div>'),dr=b('<div role="listbox" tabindex="0" class="popover svelte-1j5gmms"><!> <div class="popoverOptions svelte-1j5gmms"></div></div>'),ur=b('<option class="opt svelte-1j5gmms"> </option>'),hr=b('<select class="svelte-1j5gmms"></select>');function pt(n,e){pe(e,!0);let r=p(e,"ref",15),s=p(e,"options",19,()=>[]),o=p(e,"value",15),l=p(e,"asPopover",3,!0),y=p(e,"borderless",3,!1),f=p(e,"withSearch",3,!1),D=p(e,"fallbackOptions",3,!1),c=U(void 0),M=U(x(D()?!1:l())),k=U(void 0),g=U(x(f()?-1:0)),z=U(void 0),j=U(""),B=re(()=>{if(!f())return s();if(typeof o()=="string")return s().filter($=>$.toLowerCase().includes(t(j).toLowerCase()));let O=Number.parseInt(t(j))||o();return s().filter($=>$===O)});se(()=>{t(M)!==l()&&w(M,x(l()))}),se(()=>{var O,$;if(t(g)===-1&&((O=t(c))==null||O.scrollTo({top:0,behavior:"smooth"})),f()){if(t(g)<0||t(g)>t(B).length-1){w(g,-1),($=t(z))==null||$();return}}else t(g)<0?w(g,t(B).length-1):t(g)>t(B).length-1&&w(g,0),E()});function E(){if(t(c)){let O=t(c).getElementsByTagName("button")[t(g)];O.scrollIntoView({behavior:"smooth",block:"center"}),O.focus()}else console.error("refOptions is undefined")}function N(O){var $;O==="open"&&(f()?(w(g,-1),($=t(z))==null||$()):(w(g,x(s().findIndex(T=>T===o())||0)),E()))}function Q(){return t(B).length>0?!0:(w(g,-1),!1)}function P(O){o(O),w(j,""),setTimeout(()=>{var $;($=t(k))==null||$()},20)}var _=te(),q=F(_);W(q,()=>t(M),O=>{Fe(O,{get ref(){return r()},set ref($){r($)},get ariaLabel(){return e.ariaLabel},roleButton:"combobox",btnInvisible:!0,get close(){return t(k)},set close($){w(k,x($))},get offsetTop(){return e.offsetTop},get offsetLeft(){return e.offsetLeft},onToggle:N,get onLeft(){return e.onLeft},get onRight(){return e.onRight},get onUp(){return e.onUp},get onDown(){return e.onDown},button:$=>{var T=cr(),S=v(T),m=I(S),G=v(m);lt(G,{width:14}),i(m),i(T),C(()=>{d(T,"data-border",!y()),ae(S,`${o()??""} `)}),a($,T)},children:($,T)=>{var S=dr();S.__keydown=[ir,Q,g,P,B];var m=v(S);W(m,f,ne=>{ar(ne,{get value(){return t(j)},set value(Z){w(j,x(Z))},get focus(){return t(z)},set focus(Z){w(z,x(Z))},onFocus:()=>w(g,-1)})});var G=I(m,2);be(G,21,()=>t(B),Se,(ne,Z,_e)=>{ge(ne,{invisible:!0,invisibleOutline:!0,onclick:()=>P(t(Z)),children:(Le,Ne)=>{var ie=vr(),ve=v(ie,!0);i(ie),C(()=>{d(ie,"aria-selected",o()===t(Z)),d(ie,"data-focus",t(g)===_e),ae(ve,t(Z))}),a(Le,ie)},$$slots:{default:!0}})}),i(G),Me(G,ne=>w(c,ne),()=>t(c)),i(S),C(()=>me(S,"max-height",e.maxHeight)),a($,S)},$$slots:{button:!0,default:!0}})},O=>{var $=hr();be($,21,()=>t(B),Se,(T,S)=>{var m=ur(),G={},ne=v(m,!0);i(m),C(()=>{G!==(G=t(S))&&(m.value=(m.__value=t(S))==null?"":t(S)),m.selected=o()===t(S),ae(ne,t(S))}),a(T,m)}),i($),C(()=>{d($,"name",e.name),d($,"aria-label",e.ariaLabel),$e($,"borderless",y())}),Nt($,o),a(O,$)}),a(n,_),fe()}Pe(["keydown"]);var pr=b('<div class="link noselect svelte-1bye1t3"> </div>'),fr=b('<li class="svelte-1bye1t3"><!></li>'),gr=b('<nav aria-label="Pagination" class="svelte-1bye1t3"><ul class="svelte-1bye1t3"></ul></nav>'),br=b('<div class="flex gap-10 svelte-1bye1t3"><div class="flex gap-05 chunkSize noselect svelte-1bye1t3"><div class="svelte-1bye1t3">Entries</div> <div class="svelte-1bye1t3"><!></div></div> <div class="font-label total svelte-1bye1t3"> </div></div>'),mr=b('<div class="iconLeft svelte-1bye1t3" aria-label="Go to previous page"><!></div>'),wr=b('<div class="iconRight svelte-1bye1t3" aria-label="Go to next page"><!></div>'),kr=b('<div class="container svelte-1bye1t3"><!> <!> <!> <!></div>');function yr(n,e){pe(e,!0);const r=T=>{var S=gr(),m=v(S);be(m,21,()=>t(g),Se,(G,ne)=>{var Z=fr(),_e=v(Z);ge(_e,{invisible:!0,onclick:()=>B(t(ne)),onLeft:z,onRight:j,children:(Le,Ne)=>{var ie=pr(),ve=v(ie,!0);i(ie),C(()=>ae(ve,t(ne))),a(Le,ie)},$$slots:{default:!0}}),i(Z),C(()=>{d(Z,"aria-label",`go to page number: ${t(ne)}`),d(Z,"aria-current",y()===t(ne)?"step":void 0)}),a(G,Z)}),i(m),i(S),a(T,S)},s=T=>{var S=br(),m=v(S),G=I(v(m),2),ne=v(G);pt(ne,{ariaLabel:"Page Count",get value(){return f()},set value(Le){f(Le)},options:o,offsetTop:"-17rem",borderless:!0}),i(G),i(m);var Z=I(m,2),_e=v(Z);i(Z),i(S),C(()=>ae(_e,`Total: ${e.items.length??""}`)),a(T,S)},o=[5,7,10,15,20,30,50,100];let l=p(e,"itemsPaginated",15),y=p(e,"page",15,1),f=p(e,"pageSize",31,()=>x(o[0])),D=p(e,"compact",3,!1);const c=16;let M=Re(()=>f()),k=U(x([])),g=U(x([]));se(()=>{f()!==M&&(M=Re(()=>f()),y(1))}),se(()=>{let T=[];for(let S=0;S<e.items.length;S+=f()){const m=e.items.slice(S,S+f());T.push(m)}w(k,x(T)),l(T[y()-1])}),se(()=>{E()});function z(){y()>1&&B(y()-1)}function j(){y()<t(k).length&&B(y()+1)}function B(T){y(T),E()}function E(){let T=[],S=Math.floor(f()/2);if(t(k).length<=f())for(let m=1;m<=t(k).length;(m+=1)-1)T.push(m);else if(y()<=S)for(let m=1;m<=f();(m+=1)-1)T.push(m);else if(y()>t(k).length-S-1)for(let m=t(k).length-f();m<=t(k).length-1;(m+=1)-1)T.push(m+1);else for(let m=y()-S;m<y()-S+f();(m+=1)-1)T.push(m);w(g,x(T))}var N=kr(),Q=v(N),P=re(()=>y()===1);ge(Q,{onclick:z,invisible:!0,get isDisabled(){return t(P)},children:(T,S)=>{var m=mr(),G=v(m);lt(G,{width:c}),i(m),C(()=>d(m,"data-disabled",y()===1)),a(T,m)},$$slots:{default:!0}});var _=I(Q,2);r(_);var q=I(_,2),O=re(()=>y()===t(k).length);ge(q,{onclick:j,invisible:!0,get isDisabled(){return t(O)},children:(T,S)=>{var m=wr(),G=v(m);lt(G,{width:c}),i(m),C(()=>d(m,"data-disabled",y()===t(k).length)),a(T,m)},$$slots:{default:!0}});var $=I(q,2);W($,()=>!D(),T=>{s(T)}),i(N),a(n,N),fe()}function xr(n,e){console.log(n.code),n.code==="Enter"&&e()}var $r=b('<label class="font-label noselect svelte-1supmpl"><input type="checkbox" class="svelte-1supmpl"> <span class="svelte-1supmpl"><!></span></label>');function We(n,e){pe(e,!0);let r=p(e,"checked",15,!1),s=p(e,"ariaLabel",3,""),o=p(e,"borderColor",3,"hsl(var(--bg-high))");function l(){r(!r())}var y=$r(),f=v(y);vt(f),f.__click=l,f.__keydown=[xr,l];var D=I(f,2),c=v(D);xe(c,()=>e.children??Ye),i(D),i(y),C(()=>{d(f,"name",e.name),f.disabled=e.disabled,d(f,"aria-disabled",e.disabled),d(f,"aria-checked",r()),d(f,"aria-label",s()),me(f,"border-color",o())}),zt(f,r),a(n,y),fe()}Pe(["click","keydown"]);var Sr=he('<svg fill="none" viewBox="0 0 24 24" stroke="currentColor" color="hsl(var(--action))"><path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5"></path></svg>'),Tr=he('<svg fill="none" viewBox="0 0 24 24" stroke="currentColor" color="hsl(var(--error))"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg>');function Cr(n,e){var r=te(),s=F(r);W(s,()=>e.checked,o=>{var l=Sr();d(l,"stroke-width",2),d(l,"width",20),d(l,"opacity",.9),a(o,l)},o=>{var l=Tr();d(l,"stroke-width",2),d(l,"width",20),d(l,"opacity",.9),a(o,l)}),a(n,r)}var _r=he('<svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m19.5 8.25-7.5 7.5-7.5-7.5"></path></svg>');function Lr(n,e){let r=p(e,"color",8,"currentColor"),s=p(e,"opacity",8,.9),o=p(e,"width",8,"1.5rem");var l=_r();d(l,"stroke-width",2),C(()=>{d(l,"width",o()),d(l,"color",r()),d(l,"opacity",s())}),a(n,l)}var Dr=he('<svg fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M3 7.5 7.5 3m0 0L12 7.5M7.5 3v13.5m13.5 0L16.5 21m0 0L12 16.5m4.5 4.5V7.5"></path></svg>');function jr(n,e){let r=p(e,"color",8,"currentColor"),s=p(e,"opacity",8,.9),o=p(e,"width",8,"1.5rem");var l=Dr();d(l,"stroke-width",2),C(()=>{d(l,"stroke",r()),d(l,"width",o()),d(l,"opacity",s())}),a(n,l)}var Br=he(`<svg fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213
            1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0
            1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0
            1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0
            1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0
            1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52
            0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125
            1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125
            0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z"></path><path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"></path></svg>`);function Or(n,e){let r=p(e,"color",8,"currentColor"),s=p(e,"opacity",8,.9),o=p(e,"width",8,"1.5rem");var l=Br();d(l,"stroke-width",2),C(()=>{d(l,"stroke",r()),d(l,"width",o()),d(l,"opacity",s())}),a(n,l)}async function zr(n){var e;await((e=navigator==null?void 0:navigator.clipboard)==null?void 0:e.writeText(n))}var Pr=he(`<svg fill="none" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M6.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0ZM12.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5
            0ZM18.75 12a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"></path></svg>`);function Mr(n,e){let r=p(e,"color",8,"currentColor"),s=p(e,"opacity",8,.9),o=p(e,"width",8,"1.5rem");var l=Pr();d(l,"stroke-width",2),C(()=>{d(l,"stroke",r()),d(l,"width",o()),d(l,"opacity",s())}),a(n,l)}var Ar=b('<span class="btnSelect svelte-12u4ifk"><!></span>'),Ir=b('<th class="headerCheckbox svelte-12u4ifk"><!> <!></th>'),qr=b('<span class="iconOrder svelte-12u4ifk"><!></span>'),Rr=b('<span class="orderText svelte-12u4ifk"> </span> <!>',1),Ur=b('<span class="rawText svelte-12u4ifk"> </span>'),Er=b('<th class="svelte-12u4ifk"><span class="flex-1 label svelte-12u4ifk"><!></span> <span class="relative"><span role="none" class="absolute sizeable svelte-12u4ifk"></span></span></th>'),Wr=b('<th class="headerOptions svelte-12u4ifk"><!></th>'),Nr=b('<td class="checkbox svelte-12u4ifk"><!></td>'),Hr=b('<span class="linkText nowrap svelte-12u4ifk"> </span>'),Vr=b('<span class="linkText nowrap svelte-12u4ifk"> </span>'),Xr=b('<span class="copyToClip nowrap svelte-12u4ifk"> </span>'),Yr=b('<span class="checkIcon nowrap svelte-12u4ifk"><!></span>'),Jr=b('<span class="onclick nowrap svelte-12u4ifk"> </span>'),Fr=b('<span class="rawText nowrap svelte-12u4ifk"> </span>'),Gr=b('<td class="svelte-12u4ifk"><!></td>'),Zr=b('<span class="btnOptions svelte-12u4ifk"><!></span>'),Kr=b('<td class="options svelte-12u4ifk"><!></td>'),Qr=b('<tr class="svelte-12u4ifk"><!><!><!></tr>'),el=b('<div class="eye svelte-12u4ifk"><!></div>'),tl=b('<div class="columnSelect svelte-12u4ifk"><!></div>'),rl=b('<div class="columnSelect svelte-12u4ifk"><!></div>'),ll=b('<div class="columnSelect svelte-12u4ifk"><!></div>'),nl=b('<div class="columnsSelect svelte-12u4ifk"><!> <!> <!></div>'),ol=b("<div></div>"),al=b('<table class="svelte-12u4ifk"><thead class="svelte-12u4ifk"><tr class="svelte-12u4ifk"><!><!><!></tr></thead><tbody class="svelte-12u4ifk"><!></tbody><caption class="flex space-between svelte-12u4ifk"><div class="flex"><!> <div class="caption svelte-12u4ifk"><!></div> <!></div></caption></table>');function sl(n,e){pe(e,!0);let r=p(e,"showColumns",31,()=>x(Array(e.columns.length).fill(!0))),s=p(e,"paginationCompact",3,!1),o=p(e,"paginationPageSize",3,15),l=p(e,"selectInitHide",3,!1),y=p(e,"minWidthColPx",3,50);const f="3rem",D="2rem";let c=x(m()),M=U(x(Re(()=>c))),k=U(1),g=U(x(Re(()=>o()))),z=U(!1),j=U(x(Array(e.rows.length).fill(!1))),B=re(()=>t(j).find(h=>h===!0)),E=U(void 0),N=U(x([])),Q=U("up"),P=U(x([])),_=re(()=>e.paginationDisabled!==void 0?e.paginationDisabled:e.rows.length<o()),q=re(()=>e.paginationDisabled||t(_)?e.rows.length:t(P)&&t(P).length?t(P).length:(t(k)!=1&&w(k,1),0)),O=x(Array(Re(()=>c.length)).fill(void 0)),$=U(void 0),T=0,S=U(void 0);se(()=>{setTimeout(()=>{for(let h=1;h<c.length;(h+=1)-1)if(c[h]==="auto"){T=e.select?h:h-1;let u=O[h];u&&ie(u.getBoundingClientRect().width)}},150)}),se(()=>{let h=Array(e.rows.length).fill(!1);if(t(z)){let u;t(k)===1?u=0:u=(t(k)-1)*t(g);let L=Math.min(t(k)*t(g),e.rows.length);for(let R=u;R<L;(R+=1)-1)h[R]=!0}w(j,x(h))}),se(()=>{let h=e.paginationDisabled||t(_)?e.rows.length:t(P).length||0;w(N,x(Array(h).fill(()=>console.error("un-initialized popover close option"))))}),se(()=>{let h=[];for(let u=0;u<c.length;(u+=1)-1)r()[u]&&h.push(c[u]);w(M,x(h))}),se(()=>{if(e.highlight!==void 0&&t($)){let h=e.highlight;!t(_)&&t(k)>1&&(h=e.highlight-(t(k)-1)*t(g)),w(S,x(h)),setTimeout(()=>{var u,L;(L=(u=t($))==null?void 0:u.getElementsByClassName("highlight")[0])==null||L.scrollIntoView({behavior:"smooth",block:"center"})},250)}else w(S,void 0)});function m(){let h=e.columns.map(L=>L.initialWidth),u=[...r()];return e.select&&(h=[f,...h],u=[!l(),...u]),e.options&&(h=[...h,D],u=[...u,!0]),r(u),h}function G(){return t(M).join(" ")}function ne(h,u){w(j,x(Array(e.rows.length).fill(!1)));let L=1;t(Q)==="up"?(L=-1,w(Q,"down")):w(Q,"up"),u==="string"?e.rows.sort((R,K)=>R[h].content.localeCompare(K[h].content)*L):u==="number"&&e.rows.sort((R,K)=>(R[h].content-K[h].content)*L)}function Z(h){return!t(_)&&t(k)>1?(t(k)-1)*t(g)+h:h}function _e(h){T=h;let u=O[h];u?(ie(u.getBoundingClientRect().width),window.addEventListener("mousemove",Ne),window.addEventListener("mouseup",Le,{once:!0})):console.error("invalid ref from refCols in onMouseDown")}function Le(){window.removeEventListener("mousemove",Ne)}function Ne(h){let u=O[T];if(u){let L=u.getBoundingClientRect().left,R=window.scrollX+h.x-L;ie(R)}else console.error("invalid ref from refCols in onMove")}function ie(h){h=Math.ceil(h),h<y()&&(h=y()),c[e.select?T+1:T]=`${h}px`}var ve=al(),Ge=v(ve),Ze=v(Ge);const bt=re(G);C(()=>me(Ze,"grid-template-columns",t(bt)));var nt=v(Ze);W(nt,()=>e.select&&r()[0],h=>{var u=Ir(),L=v(u);We(L,{ariaLabel:"Select All",get checked(){return t(z)},set checked(ee){w(z,x(ee))},borderColor:"hsla(var(--text), .4)"});var R=I(L,2),K=re(()=>!t(B));Fe(R,{ariaLabel:"Selected Options",get close(){return t(E)},set close(ee){w(E,x(ee))},get btnDisabled(){return t(K)},btnInvisible:!0,button:ee=>{var X=Ar(),H=v(X);Lr(H,{width:"1rem"}),i(X),C(()=>d(X,"data-disabled",!t(B))),a(ee,X)},children:(ee,X)=>{var H=te(),oe=F(H);xe(oe,()=>e.select,()=>t(j),()=>t(E)),a(ee,H)},$$slots:{button:!0,default:!0}}),i(u),a(h,u)});var ot=I(nt);be(ot,17,()=>e.columns,Se,(h,u,L)=>{var R=te(),K=F(R);W(K,()=>r()[e.select?L+1:L],ee=>{var X=Er(),H=v(X),oe=v(H);W(oe,()=>t(u).orderType,V=>{var Y=Rr(),ce=F(Y),de=v(ce,!0);i(ce);var De=I(ce,2);ge(De,{invisible:!0,onclick:()=>ne(L,t(u).orderType),children:(Qe,je)=>{var Te=qr(),Ae=v(Te);jr(Ae,{width:"1rem"}),i(Te),a(Qe,Te)},$$slots:{default:!0}}),C(()=>ae(de,t(u).content)),a(V,Y)},V=>{var Y=Ur(),ce=v(Y,!0);i(Y),C(()=>ae(ce,t(u).content)),a(V,Y)}),i(H);var J=I(H,2),A=v(J);A.__mousedown=()=>_e(L),i(J),i(X),Me(X,(V,Y)=>O[Y]=V,V=>O==null?void 0:O[V],()=>[L]),a(ee,X)}),a(h,R)});var mt=I(ot);W(mt,()=>e.options&&r()[r().length-1],h=>{var u=Wr(),L=v(u);Or(L,{width:"1.2rem"}),i(u),a(h,u)}),i(Ze),i(Ge);var He=I(Ge);{const h=(u,L=Ye,R=Ye)=>{var K=Qr();const ee=re(G);C(()=>me(K,"grid-template-columns",t(ee)));var X=v(K);W(X,()=>e.select&&r()[0],J=>{var A=Nr(),V=v(A);We(V,{ariaLabel:"Select Row",get checked(){return t(j)[Z(R())]},set checked(Y){t(j)[Z(R())]=Y}}),i(A),a(J,A)});var H=I(X);be(H,17,L,Se,(J,A,V)=>{var Y=te(),ce=F(Y);W(ce,()=>r()[e.select?V+1:V],de=>{var De=Gr(),Qe=v(De);W(Qe,()=>{var je;return((je=e.columns[V])==null?void 0:je.showAs)==="a"},je=>{var Te=re(()=>t(A).href||"");ht(je,{get href(){return t(Te)},children:(Ae,Be)=>{var we=Hr(),Ie=v(we,!0);i(we),C(()=>{$e(we,"muted",t(A).muted),ae(Ie,t(A).content)}),a(Ae,we)},$$slots:{default:!0}})},je=>{var Te=te(),Ae=F(Te);W(Ae,()=>{var Be;return((Be=e.columns[V])==null?void 0:Be.showAs)==="a_blank"},Be=>{var we=re(()=>t(A).href||"");ht(Be,{get href(){return t(we)},target:"_blank",children:(Ie,Oe)=>{var ke=Vr(),Ve=v(ke,!0);i(ke),C(()=>{$e(ke,"muted",t(A).muted),ae(Ve,t(A).content)}),a(Ie,ke)},$$slots:{default:!0}})},Be=>{var we=te(),Ie=F(we);W(Ie,()=>{var Oe;return((Oe=e.columns[V])==null?void 0:Oe.showAs)==="copyToClip"},Oe=>{ge(Oe,{invisible:!0,onclick:()=>zr(t(A).content.toString()),children:(ke,Ve)=>{var ue=Xr(),ye=v(ue,!0);i(ue),C(()=>{$e(ue,"muted",t(A).muted),ae(ye,t(A).content)}),a(ke,ue)},$$slots:{default:!0}})},Oe=>{var ke=te(),Ve=F(ke);W(Ve,()=>{var ue;return((ue=e.columns[V])==null?void 0:ue.showAs)==="check"},ue=>{var ye=Yr(),et=v(ye);Cr(et,{get checked(){return t(A).content}}),i(ye),C(()=>$e(ye,"muted",t(A).muted)),a(ue,ye)},ue=>{var ye=te(),et=F(ye);W(et,()=>t(A).onClick,tt=>{ge(tt,{invisible:!0,onclick:Ce=>{var qe,ze;return(ze=(qe=t(A)).onClick)==null?void 0:ze.call(qe,Ce,Z(R()))},children:(Ce,qe)=>{var ze=Jr(),$t=v(ze,!0);i(ze),C(()=>{$e(ze,"muted",t(A).muted),ae($t,t(A).content)}),a(Ce,ze)},$$slots:{default:!0}})},tt=>{var Ce=Fr(),qe=v(Ce,!0);i(Ce),C(()=>{$e(Ce,"muted",t(A).muted),ae(qe,t(A).content)}),a(tt,Ce)},!0),a(ue,ye)},!0),a(Oe,ke)},!0),a(Be,we)},!0),a(je,Te)}),i(De),a(de,De)}),a(J,Y)});var oe=I(H);W(oe,()=>e.options&&r()[r().length-1],J=>{var A=Kr(),V=v(A);Fe(V,{ariaLabel:"Options",get close(){return t(N)[R()]},set close(Y){t(N)[R()]=Y},btnInvisible:!0,get offsetLeft(){return e.offsetLeftOptions},get offsetTop(){return e.offsetTopOptions},button:Y=>{var ce=Zr(),de=v(ce);Mr(de,{}),i(ce),a(Y,ce)},children:(Y,ce)=>{var de=te(),De=F(de);xe(De,()=>e.options,L,()=>t(N)[R()]),a(Y,de)},$$slots:{button:!0,default:!0}}),i(A),a(J,A)}),i(K),C(()=>$e(K,"highlight",t(S)===R())),a(u,K)};var wt=v(He);W(wt,()=>t(_),u=>{var L=te(),R=F(L);W(R,()=>t(j).length===e.rows.length,K=>{var ee=te(),X=F(ee);be(X,17,()=>e.rows,Se,(H,oe,J)=>{h(H,()=>t(oe),()=>J)}),a(K,ee)}),a(u,L)},u=>{var L=te(),R=F(L);be(R,17,()=>t(P),Se,(K,ee,X)=>{h(K,()=>t(ee),()=>X)}),a(u,L)}),i(He),Me(He,u=>w($,u),()=>t($))}var at=I(He),st=v(at),it=v(st),kt=re(()=>`-${c.length*1.4+3}rem`);Fe(it,{ariaLabel:"Select Columns",get offsetTop(){return t(kt)},btnInvisible:!0,button:h=>{var u=el(),L=v(u);Pt(L,{}),i(u),a(h,u)},children:(h,u)=>{var L=nl(),R=v(L);W(R,()=>e.select,X=>{var H=tl(),oe=v(H);We(oe,{ariaLabel:"Select Column: Select",get checked(){return r()[0]},set checked(J){r(r()[0]=J,!0)},children:(J,A)=>{Je();var V=Xe("Select");a(J,V)},$$slots:{default:!0}}),i(H),a(X,H)});var K=I(R,2);be(K,17,()=>e.columns,Se,(X,H,oe)=>{var J=rl(),A=v(J),V=re(()=>`Select Column: ${t(H).content}`);We(A,{get ariaLabel(){return t(V)},get checked(){return r()[e.select?oe+1:oe]},set checked(Y){r(r()[e.select?oe+1:oe]=Y,!0)},children:(Y,ce)=>{Je();var de=Xe();C(()=>ae(de,t(H).content)),a(Y,de)},$$slots:{default:!0}}),i(J),a(X,J)});var ee=I(K,2);W(ee,()=>e.options,X=>{var H=ll(),oe=v(H);We(oe,{ariaLabel:"Select Column: Options",get checked(){return r()[r().length-1]},set checked(J){r(r()[r().length-1]=J,!0)},children:(J,A)=>{Je();var V=Xe("Options");a(J,V)},$$slots:{default:!0}}),i(H),a(X,H)}),i(L),a(h,L)},$$slots:{button:!0,default:!0}});var Ke=I(it,2),yt=v(Ke);xe(yt,()=>e.caption??Ye),i(Ke);var xt=I(Ke,2);W(xt,()=>t(_),h=>{var u=ol();a(h,u)},h=>{yr(h,{get items(){return e.rows},get itemsPaginated(){return t(P)},set itemsPaginated(u){w(P,x(u))},get page(){return t(k)},set page(u){w(k,x(u))},get pageSize(){return t(g)},set pageSize(u){w(g,x(u))},get compact(){return s()}})}),i(st),i(at),i(ve),C(()=>{d(ve,"aria-colcount",c.length),d(ve,"aria-rowcount",t(q)),me(ve,"width",e.width),me(ve,"max-width",e.maxWidth)}),a(n,ve),fe()}Pe(["mousedown"]);var il=b("<p>no results</p>");function cl(n,e){pe(e,!0);let r=U(x([])),s=U(x([]));se(()=>{let c=[],M=[];if(e.rows.length>0){for(let k of e.rows[0].columns)c.push({content:k.name,initialWidth:"12rem",orderType:l(k.value)});for(let k of e.rows){let g=[];for(let z of k.columns)g.push({content:y(z.value)});M.push(g)}}w(r,x(c)),w(s,x(M))});function o(c){return[...new Uint8Array(c)].map(M=>M.toString(16).padStart(2,"0")).join("")}function l(c){return c.hasOwnProperty("Integer")||c.hasOwnProperty("Real")?"number":"string"}function y(c){return c.hasOwnProperty("Integer")?c.Integer:c.hasOwnProperty("Real")?c.Real:c.hasOwnProperty("Text")?c.Text:c.hasOwnProperty("Blob")?`x'${o(c.Blob)}'`:"NULL"}var f=te(),D=F(f);W(D,()=>t(r).length>0&&t(s).length>0,c=>{sl(c,{get columns(){return t(r)},get rows(){return t(s)},set rows(M){w(s,x(M))},paginationPageSize:100})},c=>{var M=il();a(c,M)}),a(n,f),fe()}function vl(n,e){n.ctrlKey&&n.code==="Enter"&&e()}var dl=b('<div role="textbox" tabindex="0" class="query svelte-1o8x9h5" contenteditable=""></div>'),ul=b('<div class="err"> </div>'),hl=b('<!> <!> <div id="query-results" class="svelte-1o8x9h5"><!></div>',1);function pl(n,e){pe(e,!0);let r=p(e,"query",7),s=U(x([])),o=U(""),l=U(void 0),y=U(void 0),f=re(()=>t(l)&&t(y)?`${t(l)-t(y)}px`:"100%");se(()=>{r().query.startsWith(dt)&&(r().query=r().query.replace(`${dt}
`,""),D())});async function D(){w(s,x([])),w(o,"");let B=[];for(let Q of r().query.split(/\r?\n/))Q.startsWith("--")||B.push(Q);let E=B.join(`
`),N=await At("/query",E);if(N.status===200)w(s,x(await N.json()));else{let Q=await N.json();w(o,x(Object.values(Q)[0]))}}async function c(B){w(y,x(B))}var M=hl(),k=F(M);Mt(k,{resizeBottom:!0,minHeightPx:100,initialHeightPx:300,onResizeBottom:c,children:(B,E)=>{var N=dl();N.__keydown=[vl,D],Vt("innerText",N,()=>r().query,Q=>r().query=Q),a(B,N)},$$slots:{default:!0}});var g=I(k,2);W(g,()=>t(o),B=>{var E=ul(),N=v(E,!0);i(E),C(()=>ae(N,t(o))),a(B,E)});var z=I(g,2),j=v(z);cl(j,{get rows(){return t(s)},set rows(B){w(s,x(B))}}),i(z),C(()=>{me(z,"height",t(f)),me(z,"max-height",t(f))}),Xt("innerHeight",B=>w(l,x(B))),a(n,M),fe()}Pe(["keydown"]);var fl=he('<svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg>');function gl(n,e){let r=p(e,"color",8,"var(--col-err)"),s=p(e,"opacity",8,.9),o=p(e,"width",8,"1.5rem");var l=fl();d(l,"stroke-width",2),C(()=>{d(l,"width",o()),d(l,"color",r()),d(l,"opacity",s())}),a(n,l)}function bl(n,e,r,s){t(e)?n.code==="Enter"&&(n.preventDefault(),r()):s()}function ft(n,e,r){e.onClose(r())}var ml=b('<div class="row svelte-1ml8s23"><div role="button" tabindex="0"><!></div> <div class="close svelte-1ml8s23"><div role="button" tabindex="0" class="close-inner svelte-1ml8s23"><!></div></div></div>');function wl(n,e){pe(e,!0);let r=p(e,"tab",15),s=p(e,"tabSelected",15),o,l=re(()=>s()===r());function y(){let j=o.innerText;r(j),s(j)}function f(){t(l)||s(r())}var D=ml(),c=v(D);c.__click=f,c.__keydown=[bl,l,y,f];var M=v(c);xe(M,()=>e.children),i(c),Me(c,j=>o=j,()=>o);var k=I(c,2),g=v(k);g.__click=[ft,e,r],g.__keydown=[ft,e,r];var z=v(g);gl(z,{color:"hsl(var(--error))"}),i(g),i(k),i(D),C(()=>{It(c,`${(t(l)?"tab selected":"tab")??""} svelte-1ml8s23`),d(c,"contenteditable",t(l))}),rt("blur",c,y),a(n,D),fe()}Pe(["click","keydown"]);var kl=he('<svg fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15"></path></svg>');function yl(n,e){let r=p(e,"opacity",8,.9),s=p(e,"width",8,"1.5rem");var o=kl();d(o,"stroke-width",2),C(()=>{d(o,"width",s()),d(o,"opacity",r())}),a(n,o)}function gt(){le.push({id:Ue(6),query:qt})}var xl=b('<div id="tabs" class="svelte-ko98zn"><!> <div role="button" tabindex="0" title="Add New Tab" class="ctrl add-new svelte-ko98zn"><!></div></div> <!>',1);function $l(n,e){pe(e,!0);let r=U(x(le[0].id)),s=re(()=>le.filter(k=>k.id===t(r))[0]);se(()=>{le.length>0?w(r,x(le[le.length-1].id)):w(r,"")});function o(k){let g=le.map(z=>z.id).indexOf(k);t(r)===k?le.length===1?(le.push(Rt),le.shift(),w(r,x(le[0].id))):g===0?(le.shift(),w(r,x(le[0].id))):(le.splice(g,1),w(r,x(le[g-1].id))):le.splice(g,1)}var l=xl(),y=F(l),f=v(y);be(f,17,()=>le,k=>k.id,(k,g)=>{wl(k,{get tab(){return t(g).id},set tab(z){t(g).id=z},get tabSelected(){return t(r)},set tabSelected(z){w(r,x(z))},onClose:o,children:(z,j)=>{Je();var B=Xe();C(()=>ae(B,t(g).id)),a(z,B)},$$slots:{default:!0}})});var D=I(f,2);D.__click=[gt],D.__keydown=[gt];var c=v(D);yl(c,{}),i(D),i(y);var M=I(y,2);pl(M,{get query(){return t(s)}}),a(n,l),fe()}Pe(["click","keydown"]);var Sl=b('<meta property="description" content="Hiqlite Dashboard">');function Tl(n){Dt(e=>{var r=Sl();Bt.title="Hiqlite",a(e,r)}),$l(n,{})}export{Tl as component};
